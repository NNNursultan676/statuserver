# üì¶ –ö–∞–∫ —Å–∫–∞—á–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ

## –í–∞—Ä–∏–∞–Ω—Ç 1: –°–∫–∞—á–∞—Ç—å —á–µ—Ä–µ–∑ Replit

### 1. –°–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏–≤

–í Replit Shell –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cd /home/runner/workspace
zip -r statuserver.zip statuserver/
```

### 2. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª

–í Replit Files:
- –ù–∞–π–¥–∏—Ç–µ `statuserver.zip`
- –ù–∞–∂–º–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí Download

### 3. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ

```bash
# –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤
unzip statuserver.zip
cd statuserver

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
nano .env

# –£–∫–∞–∂–∏—Ç–µ –≤–∞—à Monitoring API:
# METRICS_API_URL=http://10.183.45.198:8000
# –ò–ª–∏ –µ—Å–ª–∏ —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å:
# METRICS_API_URL=http://localhost:8000

# –í–ê–ñ–ù–û! –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å:
# ADMIN_PASSWORD=your_secure_password

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker
docker-compose up --build

# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:5000
```

## –í–∞—Ä–∏–∞–Ω—Ç 2: Git Clone (–µ—Å–ª–∏ –≤—ã–≥—Ä—É–∑–∏—Ç–µ –≤ GitHub)

```bash
git clone your-repo-url
cd statuserver
cp .env.example .env
nano .env  # –ù–∞—Å—Ç—Ä–æ–π—Ç–µ
docker-compose up --build
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—É–Ω–Ω–µ–ª—è –∫ Monitoring API

–ï—Å–ª–∏ –≤–∞—à Monitoring API (`10.183.45.198:8000`) –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ VPN:

### –í–∞—Ä–∏–∞–Ω—Ç A: SSH –¢—É–Ω–Ω–µ–ª—å

```bash
# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å
ssh -L 8000:10.183.45.198:8000 user@vpn-gateway -N

# –í .env —É–∫–∞–∂–∏—Ç–µ:
METRICS_API_URL=http://localhost:8000
```

### –í–∞—Ä–∏–∞–Ω—Ç B: WireGuard/OpenVPN

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VPN —á–µ—Ä–µ–∑ WireGuard –∏–ª–∏ OpenVPN:

```env
# –í .env —É–∫–∞–∂–∏—Ç–µ –ø—Ä—è–º–æ–π –∞–¥—Ä–µ—Å
METRICS_API_URL=http://10.183.45.198:8000
```

### –í–∞—Ä–∏–∞–Ω—Ç C: Host Network –≤ Docker

–í `docker-compose.yml`:

```yaml
services:
  app:
    network_mode: "host"
    environment:
      - METRICS_API_URL=http://localhost:8000
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Monitoring API

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API

```bash
# –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
curl http://10.183.45.198:8000/metrics/available

# –ß–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å
curl http://localhost:8000/metrics/available
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: `"string"` (HTTP 200)

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫

```bash
curl http://10.183.45.198:8000/metrics/servers/all | jq '.[0]'
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```json
{
  "server_name": "SIEM Server",
  "cpu_usage": 1.17,
  "memory_usage": 45.27,
  ...
}
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Status Server

```bash
docker-compose logs -f

# –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:
# ‚úì Metrics API –¥–æ—Å—Ç—É–ø–µ–Ω: http://10.183.45.198:8000
# üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Monitoring API...
# ‚úì –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ 13 —Å–µ—Ä–≤–∏—Å–æ–≤
```

## –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

```
üöÄ Status Server –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è...
   –†–µ–∂–∏–º: production
   –ü–æ—Ä—Ç: 5000
   –ê–¥–º–∏–Ω: admin

üíæ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: /app/data/services.db
Storage initialized and data seeded

‚úì Metrics API –¥–æ—Å—Ç—É–ø–µ–Ω: http://10.183.45.198:8000
üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Monitoring API...
‚úì –ü–æ–ª—É—á–µ–Ω–æ –º–µ—Ç—Ä–∏–∫ –¥–ª—è 13 —Å–µ—Ä–≤–µ—Ä–æ–≤
‚úì –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ 13 —Å–µ—Ä–≤–∏—Å–æ–≤

INFO:     Uvicorn running on http://0.0.0.0:5000
INFO:     Application startup complete.
```

## –í–∞—à–∏ —Å–µ—Ä–≤–µ—Ä—ã (–∏–∑ Monitoring API)

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —É–≤–∏–¥–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è –≤—Å–µ—Ö 13 —Å–µ—Ä–≤–µ—Ä–æ–≤:

| –°–µ—Ä–≤–µ—Ä | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ú–µ—Ç—Ä–∏–∫–∏ |
|--------|-----------|---------|
| SIEM Server | Security | CPU, RAM, Disk, Network |
| OPS Server | Operations | CPU, RAM, Disk, Network |
| AI Test Environment | Compute | CPU, RAM, Disk, Network |
| IPSec Server | Network | CPU, RAM, Disk, Network |
| Stage Database | Database | CPU, RAM, Disk, Network |
| Production Database | Database | CPU, RAM, Disk, Network |
| Wazuh Demo | Security | CPU, RAM, Disk, Network |
| Firezone VPN | Network | CPU, RAM, Disk, Network |
| GitLab VM | DevTools | CPU, RAM, Disk, Network |
| SSO Server | Authentication | CPU, RAM, Disk, Network |
| Central Proxy | Network | CPU, RAM, Disk, Network |
| AI Project VM | Compute | CPU, RAM, Disk, Network |
| Demo DB CreditBroker | Database | CPU, RAM, Disk, Network |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ –ø–æ—Å–ª–µ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏

```
statuserver/
‚îú‚îÄ‚îÄ README_DOCKER.md              # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Docker
‚îú‚îÄ‚îÄ METRICS_API_INTEGRATION.md    # –î–µ—Ç–∞–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å API
‚îú‚îÄ‚îÄ QUICKSTART.md                 # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ –ö–ê–ö_–°–ö–ê–ß–ê–¢–¨_–ò_–ó–ê–ü–£–°–¢–ò–¢–¨.md    # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îÇ
‚îú‚îÄ‚îÄ .env.example                  # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ docker-compose.yml            # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile                    # Docker –æ–±—Ä–∞–∑
‚îÇ
‚îú‚îÄ‚îÄ client/                       # React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/               # Dashboard, Analytics, History, Admin
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/          # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îÇ
‚îú‚îÄ‚îÄ server_py/                    # Python –±—ç–∫–µ–Ω–¥ (FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ main.py                  # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ routes.py                # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ metrics_api_client.py    # ‚Üê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Monitoring API
‚îÇ   ‚îú‚îÄ‚îÄ storage.py               # In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îú‚îÄ‚îÄ db_storage.py            # ‚Üê SQLite –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îú‚îÄ‚îÄ models.py                # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ config.py                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ auth.py                  # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ data/                         # –°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ services.db              # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îî‚îÄ‚îÄ import_services.py            # –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ URL –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

- **Dashboard**: http://localhost:5000
- **Analytics**: http://localhost:5000 (–≤–∫–ª–∞–¥–∫–∞ Analytics)
- **History**: http://localhost:5000 (–≤–∫–ª–∞–¥–∫–∞ History)
- **Admin Panel**: http://localhost:5000 (–≤–∫–ª–∞–¥–∫–∞ Admin)
- **API Docs**: http://localhost:5000/docs (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è FastAPI)

## –õ–æ–≥–∏–Ω –≤ Admin Panel

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `.env`:

```
Username: admin (–∏–ª–∏ –≤–∞—à–µ –∑–Ω–∞—á–µ–Ω–∏–µ ADMIN_USERNAME)
Password: changeme (–∏–ª–∏ –≤–∞—à–µ –∑–Ω–∞—á–µ–Ω–∏–µ ADMIN_PASSWORD)
```

‚ö†Ô∏è **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º!**

## Troubleshooting

### –û—à–∏–±–∫–∞: Metrics API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**:
1. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API: `curl http://10.183.45.198:8000/metrics/available`
2. –¢—É–Ω–Ω–µ–ª—å –∑–∞–ø—É—â–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)
3. VPN –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ
4. Firewall –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç 8000

### –û—à–∏–±–∫–∞: Port 5000 already in use

```bash
# –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 5000
sudo lsof -i :5000

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ docker-compose.yml:
ports:
  - "5001:5000"  # –í–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç 5001
```

### –î–∞–Ω–Ω—ã–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs app | grep "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è"

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose down
docker-compose build --no-cache
docker-compose up
```

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ + —É–¥–∞–ª–µ–Ω–∏–µ volumes (—É–¥–∞–ª–∏—Ç –ë–î!)
docker-compose down -v

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
docker-compose down -v --rmi all
rm -rf data/
```

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

```bash
# –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
git pull  # –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
docker-compose down
docker-compose build --no-cache
docker-compose up
```

## –ë—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ë–î
cp data/services.db data/services.db.backup

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker volumes
docker-compose exec app cp /app/data/services.db /app/data/backup.db
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –õ–æ–≥–∏: `docker-compose logs -f`
2. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Monitoring API
3. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `.env` –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
4. –ù–∞–ª–∏—á–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

## –ì–æ—Ç–æ–≤–æ! üéâ

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000 –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –≤–∞—à–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏!

–í—Å–µ 13 —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏–∑ Monitoring API –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏.
