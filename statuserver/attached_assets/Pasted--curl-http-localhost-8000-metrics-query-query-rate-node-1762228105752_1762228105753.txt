# –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —ç–∫—Ä–∞–Ω–∏—Ä—É–µ–º –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏ curl "http://localhost:8000/metrics/query?query=rate(node_network_receive_bytes_total%5B5m%5D)" # –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ curl 'http://localhost:8000/metrics/query?query=rate(node_network_receive_bytes_total[5m])' –î—Ä—É–≥–∏–µ —Ä–∞–±–æ—á–∏–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: bash # 1. –°—Ç–∞—Ç—É—Å —Ü–µ–ª–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π) curl "http://localhost:8000/metrics/query?query=up" # 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU curl "http://localhost:8000/metrics/query?query=rate(node_cpu_seconds_total%5B5m%5D)" # 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö curl "http://localhost:8000/metrics/query?query=(node_memory_MemTotal_bytes%20-%20node_memory_MemAvailable_bytes)%20/%20node_memory_MemTotal_bytes%20*%20100" # 4. –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã curl "http://localhost:8000/metrics/query?query=node_load1" # 5. –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö curl "http://localhost:8000/metrics/query?query=(node_filesystem_size_bytes%20-%20node_filesystem_avail_bytes)%20/%20node_filesystem_size_bytes%20*%20100" # 6. –°–µ—Ç–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π) curl "http://localhost:8000/metrics/query?query=rate(node_network_receive_bytes_total%5B5m%5D)" # 7. –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–±–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞) curl "http://localhost:8000/metrics/instant?query=up" # 8. –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ curl "http://localhost:8000/metrics/available" –î–ª—è –ª–æ–≥–æ–≤ (Loki): bash # 1. –í—Å–µ –ª–æ–≥–∏ Loki curl "http://localhost:8000/logs/query?query=%7Bjob%3D%22prometheus%22%7D" # 2. –õ–æ–≥–∏ —Å –æ—à–∏–±–∫–∞–º–∏ curl "http://localhost:8000/logs/errors?app=prometheus" # 3. –¢–µ—Å—Ç–æ–≤—ã–µ –ª–æ–≥–∏ curl "http://localhost:8000/test/logs" –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä: –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/docs –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —á–µ—Ä–µ–∑ Swagger UI - —Ç–∞–º –Ω–µ –Ω—É–∂–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª—ã. –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∫—Ä–∞—Å–∏–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ: bash # –° —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º JSON curl -s "http://localhost:8000/metrics/query?query=up" | python3 -m json.tool # –ò–ª–∏ —Å jq curl -s "http://localhost:8000/metrics/query?query=up" | jq '.' –í–∞—à API —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –∏–∑ Prometheus! üéâ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º. –≠—Ç–∏ —Ç—è–Ω—É—Ç –¥–∞–Ω–Ω—ã–µ —Å —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ —è –¥–µ–ª–∞—é —Ñ—Ä–æ–Ω—Ç –∏ –º–Ω–µ –Ω–∞–¥–æ –≤–æ—Ç –æ—Ç —Å—é–¥–∞ –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ —á—Ç–æ –æ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–æ–º –ø–æ–¥—Å—Ç–∞–≤–ª—è–ª–æ—Å—å