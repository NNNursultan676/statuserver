{"file_contents":{"statuserver/client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"statuserver/client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"statuserver/client/src/components/ServiceCard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { StatusBadge } from \"./StatusBadge\";\nimport { Service } from \"@shared/schema\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { Server, Database, Globe, Shield, ExternalLink, Star, Circle } from \"lucide-react\";\nimport { getServiceUrl, openServiceUrl } from \"@/lib/serviceUtils\";\n\ninterface ServiceCardProps {\n  service: Service;\n  onClick?: () => void;\n  isFavorite?: boolean;\n  onToggleFavorite?: (id: string) => void;\n  availabilityStatus?: boolean | null;\n}\n\nconst iconMap: Record<string, any> = {\n  server: Server,\n  database: Database,\n  globe: Globe,\n  shield: Shield,\n};\n\nexport function ServiceCard({ service, onClick, isFavorite, onToggleFavorite, availabilityStatus }: ServiceCardProps) {\n  const Icon = service.icon ? iconMap[service.icon] || Server : Server;\n  const serviceUrl = getServiceUrl(service);\n  \n  const handleOpenService = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    openServiceUrl(service);\n  };\n  \n  const handleFavoriteClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onToggleFavorite?.(service.id);\n  };\n  \n  return (\n    <Card \n      className=\"p-6 hover-elevate cursor-pointer transition-all\"\n      onClick={onClick}\n      data-testid={`card-service-${service.id}`}\n    >\n      <div className=\"flex items-start justify-between gap-4\">\n        <div className=\"flex items-start gap-3 flex-1 min-w-0\">\n          <div className=\"relative p-2 rounded-md bg-primary/10 shrink-0\">\n            <Icon className=\"w-5 h-5 text-primary\" />\n            {availabilityStatus !== null && (\n              <Circle \n                className={`absolute -top-1 -right-1 w-3 h-3 ${\n                  availabilityStatus ? 'fill-green-500 text-green-500' : 'fill-red-500 text-red-500'\n                }`} \n              />\n            )}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"font-medium text-base mb-1 truncate\" data-testid={`text-service-name-${service.id}`}>\n              {service.name}\n            </h3>\n            {service.description && (\n              <p className=\"text-sm text-muted-foreground line-clamp-2\">\n                {service.description}\n              </p>\n            )}\n            {service.address && (\n              <div className=\"flex items-center gap-2 mt-2\">\n                <a \n                  href={serviceUrl || '#'} \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"text-xs text-primary hover:underline font-mono truncate max-w-xs\"\n                  onClick={(e) => e.stopPropagation()}\n                >\n                  {service.address}\n                </a>\n                {service.port && (\n                  <span className=\"text-xs text-muted-foreground font-mono\">\n                    :{service.port}\n                  </span>\n                )}\n              </div>\n            )}\n            <div className=\"flex items-center gap-3 mt-2 text-xs text-muted-foreground\">\n              <span className=\"font-mono\">{service.region}</span>\n              <span>‚Ä¢</span>\n              <span>{service.category}</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"flex flex-col items-end gap-2 shrink-0\">\n          <div className=\"flex items-center gap-2\">\n            {onToggleFavorite && (\n              <Button \n                size=\"icon\" \n                variant=\"ghost\"\n                onClick={handleFavoriteClick}\n                className=\"h-8 w-8\"\n              >\n                <Star className={`w-4 h-4 ${isFavorite ? 'fill-yellow-500 text-yellow-500' : ''}`} />\n              </Button>\n            )}\n            <StatusBadge status={service.status as any} />\n          </div>\n          {serviceUrl && (\n            <Button \n              size=\"sm\" \n              variant=\"default\"\n              onClick={handleOpenService}\n              className=\"mt-2\"\n            >\n              <ExternalLink className=\"w-3 h-3 mr-1\" />\n              –û—Ç–∫—Ä—ã—Ç—å\n            </Button>\n          )}\n          <span className=\"text-xs text-muted-foreground font-mono\">\n            {formatDistanceToNow(new Date(service.updatedAt), { addSuffix: true })}\n          </span>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","size_bytes":4341},"statuserver/client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"statuserver/client/src/App.tsx":{"content":"import React from \"react\";\nimport { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { BarChart3, History, LayoutDashboard, Settings } from \"lucide-react\";\nimport { Link, useLocation } from \"wouter\";\n\nimport Dashboard from \"@/pages/Dashboard\";\nimport Analytics from \"@/pages/Analytics\";\nimport HistoryPage from \"@/pages/History\";\nimport Admin from \"@/pages/Admin\";\nimport ServiceDetail from \"@/pages/ServiceDetail\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Dashboard} />\n      <Route path=\"/analytics\" component={Analytics} />\n      <Route path=\"/history\" component={HistoryPage} />\n      <Route path=\"/admin\" component={Admin} />\n      <Route path=\"/service/:id\" component={ServiceDetail} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  const [location] = useLocation();\n\n  const navigation = [\n    { name: \"Dashboard\", path: \"/\", icon: LayoutDashboard },\n    { name: \"Analytics\", path: \"/analytics\", icon: BarChart3 },\n    { name: \"History\", path: \"/history\", icon: History },\n    { name: \"Admin\", path: \"/admin\", icon: Settings },\n  ];\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <div className=\"min-h-screen bg-background\">\n          <header className=\"sticky top-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n            <div className=\"max-w-7xl mx-auto px-3 sm:px-6 h-14 sm:h-16 flex items-center justify-between\">\n              <div className=\"flex items-center gap-1.5 sm:gap-2 min-w-0\">\n                <div className=\"w-7 h-7 sm:w-8 sm:h-8 rounded-md bg-primary flex items-center justify-center flex-shrink-0\">\n                  <LayoutDashboard className=\"w-4 h-4 sm:w-5 sm:h-5 text-primary-foreground\" />\n                </div>\n                <h1 className=\"text-base sm:text-xl font-semibold truncate\">Service Status</h1>\n              </div>\n              \n              <nav className=\"flex items-center gap-0.5 sm:gap-1\">\n                {navigation.map((item) => {\n                  const isActive = location === item.path;\n                  return (\n                    <Link key={item.path} href={item.path}>\n                      <button\n                        className={`flex items-center gap-1.5 sm:gap-2 px-2 sm:px-4 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors hover-elevate ${\n                          isActive\n                            ? \"bg-primary text-primary-foreground\"\n                            : \"text-muted-foreground hover:text-foreground\"\n                        }`}\n                        data-testid={`nav-${item.name.toLowerCase()}`}\n                      >\n                        <item.icon className=\"w-4 h-4\" />\n                        <span className=\"hidden sm:inline\">{item.name}</span>\n                      </button>\n                    </Link>\n                  );\n                })}\n              </nav>\n            </div>\n          </header>\n\n          <main className=\"max-w-7xl mx-auto px-3 sm:px-6 py-4 sm:py-8\">\n            <Router />\n          </main>\n        </div>\n        <Toaster />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":3469},"statuserver/client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"statuserver/server_py/routes.py":{"content":"import os\nimport csv\nimport io\nimport httpx\nfrom typing import Optional\nfrom fastapi import APIRouter, HTTPException, Query, Depends\nfrom fastapi.responses import Response, JSONResponse\nfrom pydantic import BaseModel, ValidationError\n\nfrom models import (\n    Service, InsertService,\n    Incident, InsertIncident,\n    InsertServerMetrics,\n    ServiceStatus\n)\nfrom storage import storage\nfrom grafana_service import create_grafana_service\nfrom import_data import import_services_from_data\nfrom metrics_api_client import metrics_client\nfrom auth import require_admin\n\nrouter = APIRouter()\ngrafana_service = create_grafana_service(storage)\n\nclass StatusUpdate(BaseModel):\n    status: ServiceStatus\n\nclass ImportData(BaseModel):\n    data: dict\n\nasync def check_service_availability(address: str, port: Optional[int] = None) -> bool:\n    try:\n        url = f\"http://{address}:{port}\" if port else address\n        async with httpx.AsyncClient(timeout=5.0) as client:\n            response = await client.head(url)\n            return response.status_code < 400\n    except:\n        return False\n\ndef convert_to_csv(services: list) -> str:\n    if not services:\n        return \"\"\n    \n    output = io.StringIO()\n    if services:\n        fieldnames = services[0].keys() if isinstance(services[0], dict) else list(vars(services[0]).keys())\n        writer = csv.DictWriter(output, fieldnames=fieldnames)\n        writer.writeheader()\n        for service in services:\n            if isinstance(service, dict):\n                writer.writerow(service)\n            else:\n                writer.writerow(vars(service))\n    \n    return output.getvalue()\n\n@router.get(\"/api/services\")\nasync def get_services():\n    try:\n        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Metrics API\n        api_available = await metrics_client.check_availability()\n        \n        if api_available:\n            # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API –º–µ—Ç—Ä–∏–∫\n            servers = await metrics_client.get_all_servers()\n            services = await metrics_client.convert_servers_to_services(servers)\n            \n            # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º\n            for service in services:\n                existing = await storage.get_service(service.id)\n                if not existing:\n                    # –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å\n                    insert_data = InsertService(\n                        name=service.name,\n                        description=service.description,\n                        category=service.category,\n                        region=service.region,\n                        status=service.status,\n                        type=service.type,\n                        icon=service.icon,\n                        address=service.address,\n                        port=service.port\n                    )\n                    await storage.create_service(insert_data)\n                else:\n                    # –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ\n                    await storage.update_service_status(service.id, service.status)\n            \n            return [s.model_dump(by_alias=True) for s in services]\n        else:\n            # API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞\n            services = await storage.get_services()\n            # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –µ—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö\n            return [s.model_dump(by_alias=True) for s in services]\n    except HTTPException:\n        raise\n    except Exception as e:\n        print(f\"Error fetching services: {e}\")\n        raise HTTPException(status_code=500, detail=\"Failed to fetch services\")\n\n@router.get(\"/api/services/{service_id}\")\nasync def get_service(service_id: str):\n    try:\n        service = await storage.get_service(service_id)\n        if not service:\n            raise HTTPException(status_code=404, detail=\"Service not found\")\n        return service.model_dump(by_alias=True)\n    except HTTPException:\n        raise\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to fetch service\")\n\n@router.post(\"/api/services\", status_code=201)\nasync def create_service(service: InsertService, admin: str = Depends(require_admin)):\n    try:\n        created_service = await storage.create_service(service)\n        return created_service.model_dump(by_alias=True)\n    except ValidationError as e:\n        raise HTTPException(status_code=400, detail={\"error\": \"Invalid service data\", \"details\": e.errors()})\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to create service\")\n\n@router.patch(\"/api/services/{service_id}/status\")\nasync def update_service_status(service_id: str, status_update: StatusUpdate, admin: str = Depends(require_admin)):\n    try:\n        status = status_update.status\n        if status not in [\"operational\", \"degraded\", \"down\", \"maintenance\", \"loading\"]:\n            raise HTTPException(status_code=400, detail=\"Invalid status value\")\n        \n        service = await storage.update_service_status(service_id, status)\n        if not service:\n            raise HTTPException(status_code=404, detail=\"Service not found\")\n        \n        return service.model_dump(by_alias=True)\n    except HTTPException:\n        raise\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to update service status\")\n\n@router.get(\"/api/incidents\")\nasync def get_incidents():\n    try:\n        incidents = await storage.get_incidents()\n        return [i.model_dump(by_alias=True) for i in incidents]\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to fetch incidents\")\n\n@router.get(\"/api/incidents/{incident_id}\")\nasync def get_incident(incident_id: str):\n    try:\n        incident = await storage.get_incident(incident_id)\n        if not incident:\n            raise HTTPException(status_code=404, detail=\"Incident not found\")\n        return incident.model_dump(by_alias=True)\n    except HTTPException:\n        raise\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to fetch incident\")\n\n@router.post(\"/api/incidents\", status_code=201)\nasync def create_incident(incident: InsertIncident, admin: str = Depends(require_admin)):\n    try:\n        created_incident = await storage.create_incident(incident)\n        return created_incident.model_dump(by_alias=True)\n    except ValidationError as e:\n        raise HTTPException(status_code=400, detail={\"error\": \"Invalid incident data\", \"details\": e.errors()})\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to create incident\")\n\n@router.get(\"/api/status-history/{service_id}\")\nasync def get_status_history(service_id: str):\n    try:\n        history = await storage.get_status_history(service_id)\n        return [h.model_dump(by_alias=True) for h in history]\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to fetch status history\")\n\n@router.get(\"/api/server-metrics\")\nasync def get_server_metrics(serviceId: Optional[str] = Query(None)):\n    try:\n        metrics = await storage.get_server_metrics(serviceId)\n        return [m.model_dump(by_alias=True) for m in metrics]\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to fetch server metrics\")\n\n@router.post(\"/api/server-metrics\", status_code=201)\nasync def create_server_metrics(metrics: InsertServerMetrics):\n    try:\n        created_metrics = await storage.create_server_metrics(metrics)\n        return created_metrics.model_dump(by_alias=True)\n    except ValidationError as e:\n        raise HTTPException(status_code=400, detail={\"error\": \"Invalid metrics data\", \"details\": e.errors()})\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to create server metrics\")\n\n@router.post(\"/api/import-services\")\nasync def import_services(import_data: ImportData, admin: str = Depends(require_admin)):\n    try:\n        data = import_data.data\n        if not data:\n            raise HTTPException(status_code=400, detail=\"No data provided\")\n        \n        count = await import_services_from_data(storage, data)\n        return {\"success\": True, \"imported\": count}\n    except HTTPException:\n        raise\n    except Exception as e:\n        print(f\"Import error: {e}\")\n        raise HTTPException(status_code=500, detail=\"Failed to import services\")\n\n@router.get(\"/api/export-services\")\nasync def export_services(format: str = Query(\"json\")):\n    try:\n        services = await storage.get_services()\n        services_dict = [s.model_dump(by_alias=True) for s in services]\n        \n        if format == \"json\":\n            return JSONResponse(\n                content=services_dict,\n                headers={\n                    \"Content-Disposition\": \"attachment; filename=services.json\"\n                }\n            )\n        elif format == \"csv\":\n            csv_content = convert_to_csv(services_dict)\n            return Response(\n                content=csv_content,\n                media_type=\"text/csv\",\n                headers={\n                    \"Content-Disposition\": \"attachment; filename=services.csv\"\n                }\n            )\n        else:\n            raise HTTPException(status_code=400, detail=\"Unsupported format\")\n    except HTTPException:\n        raise\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to export services\")\n\n@router.post(\"/api/check-availability/{service_id}\")\nasync def check_availability(service_id: str):\n    try:\n        service = await storage.get_service(service_id)\n        if not service or not service.address:\n            raise HTTPException(status_code=404, detail=\"Service not found or no address\")\n        \n        available = await check_service_availability(service.address, service.port)\n        return {\"available\": available, \"serviceId\": service.id}\n    except HTTPException:\n        raise\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to check availability\")\n\n@router.get(\"/api/grafana/status\")\nasync def grafana_status():\n    try:\n        configured = grafana_service.is_configured()\n        return {\n            \"configured\": configured,\n            \"url\": os.getenv('GRAFANA_URL') if configured else None,\n            \"message\": \"Grafana is configured\" if configured else \"Grafana is not configured\"\n        }\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=\"Failed to check Grafana status\")\n\n@router.post(\"/api/grafana/sync\")\nasync def grafana_sync(admin: str = Depends(require_admin)):\n    try:\n        if not grafana_service.is_configured():\n            raise HTTPException(status_code=400, detail=\"Grafana is not configured\")\n        \n        result = await grafana_service.sync_service_statuses()\n        return {\n            \"success\": True,\n            **result,\n            \"message\": f\"Synced {result['updated']} services from Grafana\"\n        }\n    except HTTPException:\n        raise\n    except Exception as e:\n        print(f\"Grafana sync error: {e}\")\n        raise HTTPException(\n            status_code=500,\n            detail={\n                \"error\": \"Failed to sync with Grafana\",\n                \"details\": str(e)\n            }\n        )\n\n@router.get(\"/api/grafana/metrics\")\nasync def grafana_metrics(query: str = Query('up{job=\"node_exporter\"}')):\n    try:\n        if not grafana_service.is_configured():\n            raise HTTPException(status_code=400, detail=\"Grafana is not configured\")\n        \n        metrics = await grafana_service.fetch_metrics(query)\n        return {\"success\": True, \"metrics\": metrics, \"count\": len(metrics)}\n    except HTTPException:\n        raise\n    except Exception as e:\n        print(f\"Grafana metrics error: {e}\")\n        raise HTTPException(\n            status_code=500,\n            detail={\n                \"error\": \"Failed to fetch Grafana metrics\",\n                \"details\": str(e)\n            }\n        )\n\n@router.get(\"/api/metrics-api/status\")\nasync def get_metrics_api_status():\n    \"\"\"–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–µ–≥–æ Metrics API\"\"\"\n    try:\n        available = await metrics_client.check_availability()\n        return {\n            \"available\": available,\n            \"url\": metrics_client.base_url,\n            \"message\": \"Metrics API –¥–æ—Å—Ç—É–ø–µ–Ω\" if available else \"Metrics API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω\"\n        }\n    except Exception as e:\n        return {\n            \"available\": False,\n            \"url\": metrics_client.base_url,\n            \"message\": f\"–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ Metrics API: {str(e)}\"\n        }\n\n@router.get(\"/api/auth/verify\")\nasync def verify_auth(admin: str = Depends(require_admin)):\n    \"\"\"–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞\"\"\"\n    return {\"authenticated\": True, \"username\": admin}\n","size_bytes":12999},"statuserver/client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"statuserver/start.sh":{"content":"#!/bin/bash\nset -e\n\ncd \"$(dirname \"$0\")\"\n\necho \"üöÄ –ó–∞–ø—É—Å–∫ Status Server –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏...\"\necho \"\"\n\n# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\nexport NODE_ENV=development\nexport PORT=5000\nexport METRICS_API_URL=${METRICS_API_URL:-http://localhost:8000}\n\necho \"üì¶ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:\"\necho \"  NODE_ENV=$NODE_ENV\"\necho \"  PORT=$PORT\"\necho \"  METRICS_API_URL=$METRICS_API_URL\"\necho \"\"\n\n# –ó–∞–ø—É—Å–∫–∞–µ–º Vite dev server –Ω–∞ –ø–æ—Ä—Ç—É 5173\necho \"üé® –ó–∞–ø—É—Å–∫ Vite dev server –Ω–∞ –ø–æ—Ä—Ç—É 5173...\"\nnpx vite &\nVITE_PID=$!\n\n# –ñ–¥–µ–º –∑–∞–ø—É—Å–∫–∞ Vite\nsleep 3\n\n# –ó–∞–ø—É—Å–∫–∞–µ–º FastAPI —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 5000\necho \"‚ö° –ó–∞–ø—É—Å–∫ Python FastAPI server –Ω–∞ –ø–æ—Ä—Ç—É 5000...\"\ncd server_py\npython main.py &\nFASTAPI_PID=$!\n\necho \"\"\necho \"‚úÖ –°–µ—Ä–≤–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã!\"\necho \"   Frontend (Vite): http://localhost:5173\"\necho \"   Backend (FastAPI): http://localhost:5000\"\necho \"   Main App: http://localhost:5000\"\necho \"\"\necho \"–ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤\"\n\n# –û–±—Ä–∞–±–æ—Ç–∫–∞ Ctrl+C\ntrap \"kill $VITE_PID $FASTAPI_PID 2>/dev/null; echo ''; echo 'üõë –°–µ—Ä–≤–µ—Ä—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã'; exit 0\" INT TERM\n\nwait $VITE_PID $FASTAPI_PID\n","size_bytes":1308},"statuserver/client/src/components/AdminAuth.tsx":{"content":"import { useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Lock } from \"lucide-react\";\n\ninterface AdminAuthProps {\n  onAuth: (username: string, password: string) => void;\n}\n\nexport function AdminAuth({ onAuth }: AdminAuthProps) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onAuth(username, password);\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"space-y-1\">\n          <div className=\"flex items-center justify-center mb-4\">\n            <div className=\"p-3 bg-primary/10 rounded-full\">\n              <Lock className=\"h-6 w-6 text-primary\" />\n            </div>\n          </div>\n          <CardTitle className=\"text-2xl text-center\">–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</CardTitle>\n          <CardDescription className=\"text-center\">\n            –í–≤–µ–¥–∏—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"username\">–õ–æ–≥–∏–Ω</Label>\n              <Input\n                id=\"username\"\n                type=\"text\"\n                placeholder=\"root\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">–ü–∞—Ä–æ–ª—å</Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                placeholder=\"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </div>\n            <Button type=\"submit\" className=\"w-full\">\n              –í–æ–π—Ç–∏\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":2357},"statuserver/client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1230},"statuserver/client/src/hooks/use-availability.ts":{"content":"import { useState, useCallback } from \"react\";\nimport { useMutation } from \"@tanstack/react-query\";\n\ninterface AvailabilityStatus {\n  [serviceId: string]: boolean | null;\n}\n\nexport function useAvailability() {\n  const [availability, setAvailability] = useState<AvailabilityStatus>({});\n\n  const checkMutation = useMutation({\n    mutationFn: async (serviceId: string) => {\n      const response = await fetch(`/api/check-availability/${serviceId}`, {\n        method: 'POST',\n      });\n      if (!response.ok) throw new Error('Failed to check availability');\n      return response.json();\n    },\n    onSuccess: (data) => {\n      setAvailability(prev => ({\n        ...prev,\n        [data.serviceId]: data.available\n      }));\n    },\n  });\n\n  const checkAvailability = useCallback((serviceId: string) => {\n    checkMutation.mutate(serviceId);\n  }, [checkMutation]);\n\n  const getStatus = useCallback((serviceId: string) => {\n    return availability[serviceId] ?? null;\n  }, [availability]);\n\n  return { checkAvailability, getStatus, isChecking: checkMutation.isPending };\n}\n","size_bytes":1068},"statuserver/client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"statuserver/server_py/models.py":{"content":"from pydantic import BaseModel, Field\nfrom typing import Optional, Literal\nfrom datetime import datetime\nfrom enum import Enum\n\nServiceStatus = Literal[\"operational\", \"degraded\", \"down\", \"maintenance\", \"loading\"]\nIncidentSeverity = Literal[\"minor\", \"major\", \"critical\"]\nIncidentStatus = Literal[\"investigating\", \"identified\", \"monitoring\", \"resolved\"]\n\nclass ServiceBase(BaseModel):\n    name: str\n    description: Optional[str] = None\n    category: str\n    region: str\n    status: ServiceStatus = \"operational\"\n    type: Optional[str] = None\n    icon: Optional[str] = None\n    address: Optional[str] = None\n    port: Optional[int] = None\n\nclass Service(ServiceBase):\n    id: str\n    updated_at: datetime = Field(default_factory=datetime.now)\n\n    class Config:\n        json_encoders = {\n            datetime: lambda v: v.isoformat()\n        }\n\nclass InsertService(ServiceBase):\n    pass\n\nclass IncidentBase(BaseModel):\n    service_id: str = Field(alias=\"serviceId\")\n    title: str\n    description: Optional[str] = None\n    status: IncidentStatus\n    severity: IncidentSeverity\n    started_at: Optional[datetime] = Field(default=None, alias=\"startedAt\")\n    resolved_at: Optional[datetime] = Field(default=None, alias=\"resolvedAt\")\n\n    class Config:\n        populate_by_name = True\n\nclass Incident(IncidentBase):\n    id: str\n    created_at: datetime = Field(default_factory=datetime.now, alias=\"createdAt\")\n\n    class Config:\n        populate_by_name = True\n        json_encoders = {\n            datetime: lambda v: v.isoformat()\n        }\n\nclass InsertIncident(IncidentBase):\n    pass\n\nclass StatusHistoryBase(BaseModel):\n    service_id: str = Field(alias=\"serviceId\")\n    status: ServiceStatus\n    timestamp: Optional[datetime] = None\n\n    class Config:\n        populate_by_name = True\n\nclass StatusHistory(StatusHistoryBase):\n    id: str\n\n    class Config:\n        populate_by_name = True\n        json_encoders = {\n            datetime: lambda v: v.isoformat()\n        }\n\nclass InsertStatusHistory(StatusHistoryBase):\n    pass\n\nclass ServerMetricsBase(BaseModel):\n    service_id: str = Field(alias=\"serviceId\")\n    cpu_usage: float = Field(alias=\"cpuUsage\")\n    ram_usage: float = Field(alias=\"ramUsage\")\n    disk_usage: float = Field(alias=\"diskUsage\")\n\n    class Config:\n        populate_by_name = True\n\nclass ServerMetrics(ServerMetricsBase):\n    id: str\n    timestamp: datetime = Field(default_factory=datetime.now)\n\n    class Config:\n        populate_by_name = True\n        json_encoders = {\n            datetime: lambda v: v.isoformat()\n        }\n\nclass InsertServerMetrics(ServerMetricsBase):\n    pass\n","size_bytes":2612},"statuserver/main.py":{"content":"def main():\n    print(\"Hello from repl-nix-workspace!\")\n\n\nif __name__ == \"__main__\":\n    main()\n","size_bytes":96},"statuserver/client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"statuserver/server_py/config.py":{"content":"\"\"\"\n–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è\n\"\"\"\nimport os\nfrom typing import Optional\n\n\nclass Config:\n    \"\"\"–ö–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\"\"\"\n    \n    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞\n    PORT: int = int(os.getenv(\"PORT\", \"5000\"))\n    HOST: str = os.getenv(\"HOST\", \"0.0.0.0\")\n    ENV: str = os.getenv(\"NODE_ENV\", \"production\")\n    \n    # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–¥–º–∏–Ω–∫–∏\n    ADMIN_USERNAME: str = os.getenv(\"ADMIN_USERNAME\", \"root\")\n    ADMIN_PASSWORD: str = os.getenv(\"ADMIN_PASSWORD\", \"72416810\")\n    \n    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏\n    METRICS_API_URL: Optional[str] = os.getenv(\"METRICS_API_URL\")\n    GRAFANA_URL: Optional[str] = os.getenv(\"GRAFANA_URL\")\n    GRAFANA_API_TOKEN: Optional[str] = os.getenv(\"GRAFANA_API_TOKEN\")\n    \n    @classmethod\n    def is_development(cls) -> bool:\n        \"\"\"–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏\"\"\"\n        return cls.ENV == \"development\"\n    \n    @classmethod\n    def is_production(cls) -> bool:\n        \"\"\"–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–∞\"\"\"\n        return cls.ENV == \"production\"\n\n\nconfig = Config()\n","size_bytes":1266},"statuserver/client/src/components/MetricCard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { TrendingUp, TrendingDown, Minus } from \"lucide-react\";\n\ninterface MetricCardProps {\n  title: string;\n  value: string | number;\n  subtitle?: string;\n  trend?: \"up\" | \"down\" | \"neutral\";\n  trendValue?: string;\n  icon?: React.ReactNode;\n}\n\nexport function MetricCard({ title, value, subtitle, trend, trendValue, icon }: MetricCardProps) {\n  const trendConfig = {\n    up: { icon: TrendingUp, className: \"text-green-500\" },\n    down: { icon: TrendingDown, className: \"text-red-500\" },\n    neutral: { icon: Minus, className: \"text-muted-foreground\" },\n  };\n\n  const TrendIcon = trend ? trendConfig[trend].icon : null;\n  const trendClassName = trend ? trendConfig[trend].className : \"\";\n\n  return (\n    <Card className=\"p-6\" data-testid={`card-metric-${title.toLowerCase().replace(/\\s+/g, '-')}`}>\n      <div className=\"flex items-start justify-between mb-4\">\n        <p className=\"text-sm text-muted-foreground\">{title}</p>\n        {icon && <div className=\"text-muted-foreground\">{icon}</div>}\n      </div>\n      <div className=\"space-y-2\">\n        <p className=\"text-3xl font-bold font-mono\" data-testid={`text-metric-value-${title.toLowerCase().replace(/\\s+/g, '-')}`}>\n          {value}\n        </p>\n        {(subtitle || trend) && (\n          <div className=\"flex items-center gap-2 text-sm\">\n            {trend && TrendIcon && (\n              <div className={`flex items-center gap-1 ${trendClassName}`}>\n                <TrendIcon className=\"w-4 h-4\" />\n                {trendValue && <span className=\"font-medium\">{trendValue}</span>}\n              </div>\n            )}\n            {subtitle && <span className=\"text-muted-foreground\">{subtitle}</span>}\n          </div>\n        )}\n      </div>\n    </Card>\n  );\n}\n","size_bytes":1770},"statuserver/client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"statuserver/client/src/components/ExportMenu.tsx":{"content":"import { Download } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface Service {\n  id: string;\n  name: string;\n  address?: string | null;\n  port?: number | null;\n  [key: string]: any;\n}\n\ninterface ExportMenuProps {\n  services: Service[];\n}\n\nexport function ExportMenu({ services }: ExportMenuProps) {\n  const { toast } = useToast();\n\n  const downloadFile = (content: string, filename: string, mimeType: string) => {\n    const blob = new Blob([content], { type: mimeType });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const exportJSON = () => {\n    const json = JSON.stringify(services, null, 2);\n    downloadFile(json, 'services.json', 'application/json');\n    toast({ title: \"–≠–∫—Å–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω\", description: `${services.length} —Å–µ—Ä–≤–∏—Å–æ–≤ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ JSON` });\n  };\n\n  const exportCSV = () => {\n    if (services.length === 0) {\n      toast({ title: \"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö\", description: \"–ù–µ—Ç —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞\", variant: \"destructive\" });\n      return;\n    }\n\n    const headers = ['name', 'type', 'category', 'region', 'status', 'address', 'port'];\n    const csvRows = [\n      headers.join(','),\n      ...services.map(s => \n        headers.map(h => {\n          const val = s[h];\n          return val !== null && val !== undefined ? `\"${val}\"` : '';\n        }).join(',')\n      )\n    ];\n    \n    const csv = csvRows.join('\\n');\n    downloadFile(csv, 'services.csv', 'text/csv');\n    toast({ title: \"–≠–∫—Å–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω\", description: `${services.length} —Å–µ—Ä–≤–∏—Å–æ–≤ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ CSV` });\n  };\n\n  const exportExcel = () => {\n    if (services.length === 0) {\n      toast({ title: \"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö\", description: \"–ù–µ—Ç —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞\", variant: \"destructive\" });\n      return;\n    }\n\n    const headers = ['–ò–º—è', '–¢–∏–ø', '–ö–∞—Ç–µ–≥–æ—Ä–∏—è', '–°—Ä–µ–¥–∞', '–°—Ç–∞—Ç—É—Å', '–ê–¥—Ä–µ—Å', '–ü–æ—Ä—Ç'];\n    const data = services.map(s => [\n      s.name || '',\n      s.type || '',\n      s.category || '',\n      s.region || '',\n      s.status || '',\n      s.address || '',\n      s.port?.toString() || ''\n    ]);\n\n    let xlsContent = '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><meta charset=\"utf-8\"><style>table { border-collapse: collapse; } th, td { border: 1px solid #ddd; padding: 8px; }</style></head><body>';\n    xlsContent += '<table><thead><tr>';\n    headers.forEach(h => { xlsContent += `<th>${h}</th>`; });\n    xlsContent += '</tr></thead><tbody>';\n    data.forEach(row => {\n      xlsContent += '<tr>';\n      row.forEach(cell => { xlsContent += `<td>${cell}</td>`; });\n      xlsContent += '</tr>';\n    });\n    xlsContent += '</tbody></table></body></html>';\n\n    downloadFile(xlsContent, 'services.xls', 'application/vnd.ms-excel');\n    toast({ title: \"–≠–∫—Å–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω\", description: `${services.length} —Å–µ—Ä–≤–∏—Å–æ–≤ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ Excel` });\n  };\n\n  const copyToClipboard = () => {\n    const text = services.map(s => \n      `${s.name} - ${s.address || 'N/A'}${s.port ? `:${s.port}` : ''}`\n    ).join('\\n');\n    \n    navigator.clipboard.writeText(text).then(() => {\n      toast({ title: \"–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ\", description: `${services.length} —Å–µ—Ä–≤–∏—Å–æ–≤ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞` });\n    }).catch(() => {\n      toast({ title: \"–û—à–∏–±–∫–∞\", description: \"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å\", variant: \"destructive\" });\n    });\n  };\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"outline\" size=\"sm\">\n          <Download className=\"mr-2 h-4 w-4\" />\n          –≠–∫—Å–ø–æ—Ä—Ç\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        <DropdownMenuItem onClick={exportJSON}>\n          –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={exportCSV}>\n          –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={exportExcel}>\n          –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={copyToClipboard}>\n          –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","size_bytes":4756},"statuserver/client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"statuserver/tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4050},"statuserver/client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"statuserver/server_py/main.py":{"content":"import os\nimport sys\nimport asyncio\nfrom pathlib import Path\nfrom fastapi import FastAPI, Request\nfrom fastapi.responses import FileResponse, Response\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.staticfiles import StaticFiles\nfrom contextlib import asynccontextmanager\nimport httpx\nimport time\n\nfrom config import config\nfrom routes import router\nfrom storage import storage\nfrom grafana_service import create_grafana_service\nfrom metrics_api_client import metrics_client\n\n@asynccontextmanager\nasync def lifespan(app: FastAPI):\n    await storage.seed_data()\n    print(\"Storage initialized and data seeded\")\n    \n    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Metrics API\n    metrics_available = await metrics_client.check_availability()\n    if metrics_available:\n        print(f\"‚úì Metrics API –¥–æ—Å—Ç—É–ø–µ–Ω: {metrics_client.base_url}\")\n    else:\n        print(f\"‚úó Metrics API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: {metrics_client.base_url}\")\n        print(\"  –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ\")\n    \n    grafana_service = create_grafana_service(storage)\n    \n    if grafana_service.is_configured():\n        print(\"Grafana integration is configured. Starting automatic sync...\")\n        \n        async def grafana_sync_task():\n            await asyncio.sleep(5)\n            try:\n                await grafana_service.sync_service_statuses()\n                print(\"Initial Grafana sync completed\")\n            except Exception as error:\n                print(f\"Initial Grafana sync failed: {error}\")\n            \n            while True:\n                await asyncio.sleep(30)\n                try:\n                    await grafana_service.sync_service_statuses()\n                except Exception as error:\n                    print(f\"Periodic Grafana sync failed: {error}\")\n        \n        asyncio.create_task(grafana_sync_task())\n    else:\n        print(\"Grafana integration is not configured. Skipping automatic sync.\")\n    \n    yield\n    \n    print(\"Application shutting down\")\n\napp = FastAPI(lifespan=lifespan)\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n@app.middleware(\"http\")\nasync def log_requests(request: Request, call_next):\n    start_time = time.time()\n    path = request.url.path\n    \n    response = await call_next(request)\n    \n    duration = int((time.time() - start_time) * 1000)\n    \n    if path.startswith(\"/api\"):\n        log_line = f\"{request.method} {path} {response.status_code} in {duration}ms\"\n        if len(log_line) > 80:\n            log_line = log_line[:79] + \"‚Ä¶\"\n        print(log_line)\n    \n    return response\n\napp.include_router(router)\n\nif config.is_development():\n    vite_dev_server_url = \"http://localhost:5173\"\n    \n    @app.api_route(\"/{path:path}\", methods=[\"GET\", \"HEAD\"])\n    async def proxy_to_vite(path: str, request: Request):\n        url = f\"{vite_dev_server_url}/{path}\"\n        \n        async with httpx.AsyncClient() as client:\n            try:\n                if request.method == \"GET\":\n                    response = await client.get(\n                        url,\n                        headers=dict(request.headers),\n                        follow_redirects=True\n                    )\n                else:\n                    response = await client.head(\n                        url,\n                        headers=dict(request.headers),\n                        follow_redirects=True\n                    )\n                \n                return Response(\n                    content=response.content,\n                    status_code=response.status_code,\n                    headers=dict(response.headers),\n                    media_type=response.headers.get(\"content-type\")\n                )\n            except httpx.ConnectError:\n                return Response(\n                    content=\"Vite dev server is not running. Please start it with 'npm run dev' in the client directory.\",\n                    status_code=503\n                )\nelse:\n    static_dir = Path(__file__).parent.parent / \"dist\" / \"public\"\n    \n    if static_dir.exists():\n        app.mount(\"/assets\", StaticFiles(directory=static_dir / \"assets\"), name=\"assets\")\n        \n        @app.get(\"/{path:path}\")\n        async def serve_static(path: str):\n            file_path = static_dir / path\n            if file_path.is_file():\n                return FileResponse(file_path)\n            else:\n                index_path = static_dir / \"index.html\"\n                if index_path.is_file():\n                    return FileResponse(index_path)\n                else:\n                    return Response(content=\"Not Found\", status_code=404)\n    else:\n        print(f\"Warning: Static directory not found at {static_dir}\")\n\nif __name__ == \"__main__\":\n    import uvicorn\n    \n    print(f\"üöÄ Status Server –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è...\")\n    print(f\"   –†–µ–∂–∏–º: {config.ENV}\")\n    print(f\"   –ü–æ—Ä—Ç: {config.PORT}\")\n    print(f\"   –ê–¥–º–∏–Ω: {config.ADMIN_USERNAME}\")\n    print(f\"serving on port {config.PORT}\")\n    \n    uvicorn.run(\n        \"main:app\",\n        host=config.HOST,\n        port=config.PORT,\n        reload=config.is_development(),\n        log_level=\"info\"\n    )\n","size_bytes":5281},"statuserver/client/src/pages/History.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Incident, Service } from \"@shared/schema\";\nimport { Card } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { formatDistanceToNow, format, subDays, eachDayOfInterval, subMonths, isWithinInterval, startOfDay, endOfDay } from \"date-fns\";\nimport { AlertCircle, CheckCircle2, Clock, Search, TrendingUp } from \"lucide-react\";\nimport { LineChart, Line, AreaChart, Area, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend } from \"recharts\";\nimport { useState } from \"react\";\n\ntype DateRange = \"7days\" | \"30days\" | \"3months\" | \"all\";\n\nexport default function History() {\n  const [dateRange, setDateRange] = useState<DateRange>(\"30days\");\n  const [severityFilter, setSeverityFilter] = useState(\"all\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const { data: allIncidents = [], isLoading } = useQuery<Incident[]>({\n    queryKey: [\"/api/incidents\"],\n  });\n\n  const { data: services = [] } = useQuery<Service[]>({\n    queryKey: [\"/api/services\"],\n  });\n\n  const getDateRangeFilter = () => {\n    const now = new Date();\n    switch (dateRange) {\n      case \"7days\":\n        return { start: subDays(now, 7), end: now };\n      case \"30days\":\n        return { start: subDays(now, 30), end: now };\n      case \"3months\":\n        return { start: subMonths(now, 3), end: now };\n      default:\n        return null;\n    }\n  };\n\n  const filterByDate = (date: Date) => {\n    const range = getDateRangeFilter();\n    if (!range) return true;\n    return isWithinInterval(date, { start: startOfDay(range.start), end: endOfDay(range.end) });\n  };\n\n  const incidents = allIncidents.filter((inc) => {\n    const matchesDate = filterByDate(new Date(inc.startedAt));\n    const matchesSeverity = severityFilter === \"all\" || inc.severity === severityFilter;\n    const matchesStatus = statusFilter === \"all\" || inc.status === statusFilter;\n    const matchesSearch =\n      inc.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      inc.description?.toLowerCase().includes(searchQuery.toLowerCase());\n    return matchesDate && matchesSeverity && matchesStatus && matchesSearch;\n  });\n\n  const getServiceName = (serviceId: string) => {\n    return services.find((s) => s.id === serviceId)?.name || \"Unknown Service\";\n  };\n\n  const sortedIncidents = [...incidents].sort(\n    (a, b) => new Date(b.startedAt).getTime() - new Date(a.startedAt).getTime()\n  );\n\n  const severityConfig = {\n    minor: { label: \"Minor\", className: \"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20\" },\n    major: { label: \"Major\", className: \"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20\" },\n    critical: { label: \"Critical\", className: \"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20\" },\n  };\n\n  const statusConfig = {\n    investigating: { label: \"Investigating\", icon: AlertCircle },\n    identified: { label: \"Identified\", icon: AlertCircle },\n    monitoring: { label: \"Monitoring\", icon: Clock },\n    resolved: { label: \"Resolved\", icon: CheckCircle2 },\n  };\n\n  const range = getDateRangeFilter();\n  \n  const getChartDays = () => {\n    if (range) {\n      return eachDayOfInterval({ start: range.start, end: range.end });\n    }\n    if (allIncidents.length === 0) {\n      return eachDayOfInterval({ start: subDays(new Date(), 29), end: new Date() });\n    }\n    const oldestIncident = allIncidents.reduce((oldest, inc) => {\n      const incDate = new Date(inc.startedAt);\n      return incDate < oldest ? incDate : oldest;\n    }, new Date());\n    \n    const startDate = new Date(Math.max(\n      oldestIncident.getTime(),\n      subMonths(new Date(), 6).getTime()\n    ));\n    \n    return eachDayOfInterval({ start: startDate, end: new Date() });\n  };\n  \n  const days = getChartDays();\n\n  const getUptimeForDay = (date: Date) => {\n    const dayIncidents = allIncidents.filter((inc) => {\n      const incDate = new Date(inc.startedAt);\n      return format(incDate, \"yyyy-MM-dd\") === format(date, \"yyyy-MM-dd\");\n    });\n\n    if (dayIncidents.length === 0) return \"operational\";\n    if (dayIncidents.some((i) => i.severity === \"critical\")) return \"down\";\n    if (dayIncidents.some((i) => i.severity === \"major\")) return \"degraded\";\n    return \"minor\";\n  };\n\n  const incidentTrendData = days.map((date) => {\n    const dayIncidents = allIncidents.filter((inc) => {\n      const incDate = new Date(inc.startedAt);\n      return format(incDate, \"yyyy-MM-dd\") === format(date, \"yyyy-MM-dd\");\n    });\n    return {\n      date: format(date, \"MMM d\"),\n      critical: dayIncidents.filter((i) => i.severity === \"critical\").length,\n      major: dayIncidents.filter((i) => i.severity === \"major\").length,\n      minor: dayIncidents.filter((i) => i.severity === \"minor\").length,\n      total: dayIncidents.length,\n    };\n  });\n\n  const unresolvedCount = incidents.filter((i) => i.status !== \"resolved\").length;\n  const avgResolutionTime = incidents.filter((i) => i.resolvedAt).length > 0\n    ? Math.round(\n        incidents\n          .filter((i) => i.resolvedAt)\n          .reduce((sum, inc) => {\n            const duration = new Date(inc.resolvedAt!).getTime() - new Date(inc.startedAt).getTime();\n            return sum + duration;\n          }, 0) /\n          incidents.filter((i) => i.resolvedAt).length /\n          (1000 * 60)\n      )\n    : 0;\n\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-3xl font-semibold mb-2\">Incident History & Analytics</h1>\n        <p className=\"text-muted-foreground\">Track incidents with advanced filtering and trend analysis</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n        <Card className=\"p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 rounded-lg bg-red-500/10\">\n              <AlertCircle className=\"w-5 h-5 text-red-600 dark:text-red-400\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Unresolved</p>\n              <p className=\"text-2xl font-semibold\">{unresolvedCount}</p>\n            </div>\n          </div>\n        </Card>\n        <Card className=\"p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 rounded-lg bg-blue-500/10\">\n              <TrendingUp className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Total Incidents</p>\n              <p className=\"text-2xl font-semibold\">{incidents.length}</p>\n            </div>\n          </div>\n        </Card>\n        <Card className=\"p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 rounded-lg bg-green-500/10\">\n              <Clock className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Avg Resolution</p>\n              <p className=\"text-2xl font-semibold\">{avgResolutionTime}m</p>\n            </div>\n          </div>\n        </Card>\n      </div>\n\n      <Card className=\"p-6\">\n        <h3 className=\"text-lg font-medium mb-6\">Incident Trend</h3>\n        <ResponsiveContainer width=\"100%\" height={250}>\n          <AreaChart data={incidentTrendData}>\n            <defs>\n              <linearGradient id=\"criticalGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"5%\" stopColor=\"hsl(0 84% 60%)\" stopOpacity={0.3} />\n                <stop offset=\"95%\" stopColor=\"hsl(0 84% 60%)\" stopOpacity={0} />\n              </linearGradient>\n              <linearGradient id=\"majorGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"5%\" stopColor=\"hsl(38 92% 50%)\" stopOpacity={0.3} />\n                <stop offset=\"95%\" stopColor=\"hsl(38 92% 50%)\" stopOpacity={0} />\n              </linearGradient>\n              <linearGradient id=\"minorGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"5%\" stopColor=\"hsl(217 91% 60%)\" stopOpacity={0.3} />\n                <stop offset=\"95%\" stopColor=\"hsl(217 91% 60%)\" stopOpacity={0} />\n              </linearGradient>\n            </defs>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\n            <XAxis\n              dataKey=\"date\"\n              tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n              stroke=\"hsl(var(--border))\"\n            />\n            <YAxis\n              tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n              stroke=\"hsl(var(--border))\"\n            />\n            <Tooltip\n              contentStyle={{\n                backgroundColor: \"hsl(var(--popover))\",\n                border: \"1px solid hsl(var(--border))\",\n                borderRadius: \"6px\",\n              }}\n            />\n            <Legend />\n            <Line type=\"monotone\" dataKey=\"critical\" stroke=\"hsl(0 84% 60%)\" strokeWidth={2} dot={{ r: 3 }} />\n            <Line type=\"monotone\" dataKey=\"major\" stroke=\"hsl(38 92% 50%)\" strokeWidth={2} dot={{ r: 3 }} />\n            <Line type=\"monotone\" dataKey=\"minor\" stroke=\"hsl(217 91% 60%)\" strokeWidth={2} dot={{ r: 3 }} />\n          </AreaChart>\n        </ResponsiveContainer>\n      </Card>\n\n      <Card className=\"p-6\">\n        <div className=\"flex flex-col sm:flex-row gap-4 mb-6\">\n          <div className=\"relative flex-1\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n            <Input\n              placeholder=\"Search incidents...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n          <Select value={dateRange} onValueChange={(v) => setDateRange(v as DateRange)}>\n            <SelectTrigger className=\"w-full sm:w-[180px]\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"7days\">Last 7 Days</SelectItem>\n              <SelectItem value=\"30days\">Last 30 Days</SelectItem>\n              <SelectItem value=\"3months\">Last 3 Months</SelectItem>\n              <SelectItem value=\"all\">All Time</SelectItem>\n            </SelectContent>\n          </Select>\n          <Select value={severityFilter} onValueChange={setSeverityFilter}>\n            <SelectTrigger className=\"w-full sm:w-[140px]\">\n              <SelectValue placeholder=\"Severity\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Severity</SelectItem>\n              <SelectItem value=\"minor\">Minor</SelectItem>\n              <SelectItem value=\"major\">Major</SelectItem>\n              <SelectItem value=\"critical\">Critical</SelectItem>\n            </SelectContent>\n          </Select>\n          <Select value={statusFilter} onValueChange={setStatusFilter}>\n            <SelectTrigger className=\"w-full sm:w-[140px]\">\n              <SelectValue placeholder=\"Status\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Status</SelectItem>\n              <SelectItem value=\"investigating\">Investigating</SelectItem>\n              <SelectItem value=\"identified\">Identified</SelectItem>\n              <SelectItem value=\"monitoring\">Monitoring</SelectItem>\n              <SelectItem value=\"resolved\">Resolved</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </Card>\n\n      <Tabs defaultValue=\"timeline\" className=\"w-full\">\n        <TabsList>\n          <TabsTrigger value=\"timeline\" data-testid=\"tab-timeline\">Timeline</TabsTrigger>\n          <TabsTrigger value=\"calendar\" data-testid=\"tab-calendar\">Calendar View</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"timeline\" className=\"space-y-4 mt-6\">\n          {isLoading ? (\n            <div className=\"space-y-4\">\n              {[...Array(5)].map((_, i) => (\n                <div key={i} className=\"h-32 rounded-lg bg-card animate-pulse\" />\n              ))}\n            </div>\n          ) : sortedIncidents.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <CheckCircle2 className=\"w-12 h-12 mx-auto text-green-500 mb-4\" />\n              <p className=\"text-muted-foreground\">No incidents recorded</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {sortedIncidents.map((incident) => {\n                const StatusIcon = statusConfig[incident.status as keyof typeof statusConfig].icon;\n                const duration = incident.resolvedAt\n                  ? Math.round(\n                      (new Date(incident.resolvedAt).getTime() - new Date(incident.startedAt).getTime()) / (1000 * 60)\n                    )\n                  : null;\n\n                return (\n                  <Card key={incident.id} className=\"p-6\" data-testid={`card-incident-${incident.id}`}>\n                    <div className=\"space-y-4\">\n                      <div className=\"flex items-start justify-between gap-4 flex-wrap\">\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center gap-2 mb-2\">\n                            <StatusIcon className=\"w-4 h-4 text-muted-foreground\" />\n                            <h3 className=\"font-medium text-base\" data-testid={`text-incident-title-${incident.id}`}>\n                              {incident.title}\n                            </h3>\n                          </div>\n                          <p className=\"text-sm text-muted-foreground mb-3\">\n                            {incident.description}\n                          </p>\n                          <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                            <span className=\"font-mono\">\n                              {getServiceName(incident.serviceId)}\n                            </span>\n                          </div>\n                        </div>\n                        <div className=\"flex flex-col items-end gap-2\">\n                          <Badge \n                            variant=\"outline\" \n                            className={severityConfig[incident.severity as keyof typeof severityConfig].className}\n                          >\n                            {severityConfig[incident.severity as keyof typeof severityConfig].label}\n                          </Badge>\n                          <Badge variant=\"outline\">\n                            {statusConfig[incident.status as keyof typeof statusConfig].label}\n                          </Badge>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center justify-between text-xs text-muted-foreground font-mono pt-3 border-t\">\n                        <span>\n                          Started {formatDistanceToNow(new Date(incident.startedAt), { addSuffix: true })}\n                        </span>\n                        {duration !== null && (\n                          <span className=\"text-green-600 dark:text-green-400\">\n                            Resolved in {duration}m\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </Card>\n                );\n              })}\n            </div>\n          )}\n        </TabsContent>\n\n        <TabsContent value=\"calendar\" className=\"mt-6\">\n          <Card className=\"p-6\">\n            <h3 className=\"text-lg font-medium mb-6\">Uptime Calendar</h3>\n            <div className=\"grid grid-cols-10 gap-2\">\n              {days.map((day) => {\n                const status = getUptimeForDay(day);\n                const colorClass = {\n                  operational: \"bg-green-500\",\n                  minor: \"bg-blue-500\",\n                  degraded: \"bg-amber-500\",\n                  down: \"bg-red-500\",\n                }[status];\n\n                return (\n                  <div\n                    key={day.toISOString()}\n                    className={`aspect-square rounded-md ${colorClass} hover:ring-2 hover:ring-primary transition-all cursor-pointer`}\n                    title={`${format(day, \"MMM d\")}: ${status}`}\n                    data-testid={`calendar-day-${format(day, \"yyyy-MM-dd\")}`}\n                  />\n                );\n              })}\n            </div>\n            <div className=\"flex items-center gap-6 mt-6 text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 rounded bg-green-500\" />\n                <span className=\"text-muted-foreground\">Operational</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 rounded bg-blue-500\" />\n                <span className=\"text-muted-foreground\">Minor Issues</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 rounded bg-amber-500\" />\n                <span className=\"text-muted-foreground\">Degraded</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-4 rounded bg-red-500\" />\n                <span className=\"text-muted-foreground\">Down</span>\n              </div>\n            </div>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n","size_bytes":17682},"statuserver/client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"statuserver/client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"statuserver/pyproject.toml":{"content":"[project]\nname = \"repl-nix-workspace\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nrequires-python = \">=3.12\"\ndependencies = [\n    \"fastapi>=0.121.0\",\n    \"httpx>=0.28.1\",\n    \"pydantic>=2.12.3\",\n    \"python-multipart>=0.0.20\",\n    \"uvicorn>=0.38.0\",\n]\n","size_bytes":268},"statuserver/client/src/pages/Analytics.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Service, Incident, ServerMetrics } from \"@shared/schema\";\nimport { MetricCard } from \"@/components/MetricCard\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { LineChart, Line, AreaChart, Area, BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend } from \"recharts\";\nimport { Activity, AlertCircle, Clock, Server, Download, Calendar as CalendarIcon, FileSpreadsheet, FileText, Cpu, HardDrive } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { subDays, subMonths, startOfDay, endOfDay, isWithinInterval, eachDayOfInterval, format } from \"date-fns\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\n\ntype DateRange = \"7days\" | \"30days\" | \"3months\" | \"custom\";\n\nexport default function Analytics() {\n  const [dateRange, setDateRange] = useState<DateRange>(\"30days\");\n  const [showUnresolved, setShowUnresolved] = useState(false);\n  const [customDateFrom, setCustomDateFrom] = useState<Date | undefined>(undefined);\n  const [customDateTo, setCustomDateTo] = useState<Date | undefined>(undefined);\n\n  const { data: services = [] } = useQuery<Service[]>({\n    queryKey: [\"/api/services\"],\n  });\n\n  const { data: allIncidents = [] } = useQuery<Incident[]>({\n    queryKey: [\"/api/incidents\"],\n  });\n\n  const { data: allMetrics = [] } = useQuery<ServerMetrics[]>({\n    queryKey: [\"/api/server-metrics\"],\n  });\n\n  const getDateRangeFilter = () => {\n    const now = new Date();\n    switch (dateRange) {\n      case \"7days\":\n        return { start: subDays(now, 7), end: now };\n      case \"30days\":\n        return { start: subDays(now, 30), end: now };\n      case \"3months\":\n        return { start: subMonths(now, 3), end: now };\n      case \"custom\":\n        if (customDateFrom && customDateTo) {\n          return { start: customDateFrom, end: customDateTo };\n        }\n        return { start: subDays(now, 30), end: now };\n      default:\n        return null;\n    }\n  };\n\n  const filterByDate = (date: Date) => {\n    const range = getDateRangeFilter();\n    if (!range) return true;\n    return isWithinInterval(date, { start: startOfDay(range.start), end: endOfDay(range.end) });\n  };\n\n  const incidents = allIncidents.filter((inc) => {\n    const matchesDate = filterByDate(new Date(inc.startedAt));\n    const matchesResolved = !showUnresolved || inc.status !== \"resolved\";\n    return matchesDate && matchesResolved;\n  });\n\n  const range = getDateRangeFilter();\n  const filteredMetrics = allMetrics.filter((metric) =>\n    range ? filterByDate(new Date(metric.timestamp)) : true\n  );\n\n  const exportToPDF = () => {\n    const doc = new jsPDF();\n    const pageWidth = doc.internal.pageSize.getWidth();\n\n    // Title\n    doc.setFontSize(16);\n    doc.text(\"Status Report\", pageWidth / 2, 15, { align: \"center\" });\n\n    // Date range\n    doc.setFontSize(8);\n    const rangeText = range\n      ? `${format(range.start, \"MMM d, yyyy\")} - ${format(range.end, \"MMM d, yyyy\")}`\n      : \"All Time\";\n    doc.text(rangeText, pageWidth / 2, 22, { align: \"center\" });\n    doc.text(`Generated: ${new Date().toLocaleString()}`, pageWidth / 2, 27, { align: \"center\" });\n\n    let yPos = 33;\n\n    // Summary metrics - compact\n    autoTable(doc, {\n      startY: yPos,\n      head: [[\"Uptime\", \"Services\", \"Active Inc.\", \"MTTR\"]],\n      body: [[`${uptimePercentage}%`, `${operationalServices}/${totalServices}`, `${activeIncidents}`, `${mttr}m`]],\n      theme: \"grid\",\n      headStyles: { fillColor: [66, 139, 202], fontSize: 8 },\n      bodyStyles: { fontSize: 8 },\n      margin: { left: 14, right: 14 },\n    });\n\n    yPos = (doc as any).lastAutoTable.finalY + 6;\n\n    // Server Metrics - compact\n    const serverMetricsData = services.slice(0, 5).map((service) => {\n      const serviceMetrics = filteredMetrics.filter((m) => m.serviceId === service.id);\n      const avgCpu = serviceMetrics.length > 0\n        ? (serviceMetrics.reduce((sum, m) => sum + m.cpuUsage, 0) / serviceMetrics.length).toFixed(0)\n        : \"-\";\n      const avgRam = serviceMetrics.length > 0\n        ? (serviceMetrics.reduce((sum, m) => sum + m.ramUsage, 0) / serviceMetrics.length).toFixed(0)\n        : \"-\";\n      const avgDisk = serviceMetrics.length > 0\n        ? (serviceMetrics.reduce((sum, m) => sum + m.diskUsage, 0) / serviceMetrics.length).toFixed(0)\n        : \"-\";\n\n      return [\n        service.name.substring(0, 20),\n        serviceMetrics.length > 0 ? format(new Date(serviceMetrics[serviceMetrics.length - 1].timestamp), \"MMM d HH:mm\") : \"-\",\n        avgCpu !== \"-\" ? `${avgCpu}%` : avgCpu,\n        avgRam !== \"-\" ? `${avgRam}%` : avgRam,\n        avgDisk !== \"-\" ? `${avgDisk}%` : avgDisk,\n      ];\n    });\n\n    doc.setFontSize(10);\n    doc.text(\"Server Metrics\", 14, yPos);\n    yPos += 5;\n\n    autoTable(doc, {\n      startY: yPos,\n      head: [[\"Service\", \"Updated\", \"CPU\", \"RAM\", \"Disk\"]],\n      body: serverMetricsData,\n      theme: \"grid\",\n      headStyles: { fillColor: [66, 139, 202], fontSize: 7 },\n      bodyStyles: { fontSize: 7 },\n      margin: { left: 14, right: 14 },\n    });\n\n    yPos = (doc as any).lastAutoTable.finalY + 6;\n\n    // GitLab Incidents\n    const gitlabIncidents = incidents\n      .filter((inc) => {\n        const service = services.find((s) => s.id === inc.serviceId);\n        return service?.category === \"Infrastructure\" || service?.name.toLowerCase().includes(\"git\");\n      })\n      .slice(0, 5)\n      .map((incident) => {\n        const service = services.find((s) => s.id === incident.serviceId);\n        return [\n          format(new Date(incident.startedAt), \"MMM d HH:mm\"),\n          service?.name.substring(0, 15) || \"-\",\n          incident.title.substring(0, 20),\n          incident.status === \"resolved\" ? \"‚úì\" : \"-\",\n          (incident.description || incident.severity).substring(0, 15),\n        ];\n      });\n\n    doc.setFontSize(10);\n    doc.text(\"GitLab\", 14, yPos);\n    yPos += 5;\n\n    autoTable(doc, {\n      startY: yPos,\n      head: [[\"Time\", \"Project\", \"Total\", \"Done\", \"Reason\"]],\n      body: gitlabIncidents.length > 0 ? gitlabIncidents : [[\"No data\", \"-\", \"-\", \"-\", \"-\"]],\n      theme: \"grid\",\n      headStyles: { fillColor: [66, 139, 202], fontSize: 7 },\n      bodyStyles: { fontSize: 7 },\n      margin: { left: 14, right: 14 },\n    });\n\n    yPos = (doc as any).lastAutoTable.finalY + 6;\n\n    // S3 Storage\n    const s3Data = services\n      .filter((s) => s.category === \"Infrastructure\" || s.name.toLowerCase().includes(\"storage\") || s.name.toLowerCase().includes(\"s3\"))\n      .slice(0, 5)\n      .map((service) => {\n        const serviceMetrics = filteredMetrics.filter((m) => m.serviceId === service.id);\n        const latestMetric = serviceMetrics[serviceMetrics.length - 1];\n        const avgDisk = serviceMetrics.length > 0\n          ? (serviceMetrics.reduce((sum, m) => sum + m.diskUsage, 0) / serviceMetrics.length)\n          : 0;\n\n        const quota = 100;\n        const used = avgDisk;\n        const free = quota - used;\n\n        return [\n          latestMetric ? format(new Date(latestMetric.timestamp), \"MMM d HH:mm\") : \"-\",\n          service.name.substring(0, 15),\n          `${quota.toFixed(0)}%`,\n          `${used.toFixed(0)}%`,\n          `${free.toFixed(0)}%`,\n        ];\n      });\n\n    doc.setFontSize(10);\n    doc.text(\"S3 Storage\", 14, yPos);\n    yPos += 5;\n\n    autoTable(doc, {\n      startY: yPos,\n      head: [[\"Time\", \"Name\", \"Quota\", \"Used\", \"Free\"]],\n      body: s3Data.length > 0 ? s3Data : [[\"No data\", \"-\", \"-\", \"-\", \"-\"]],\n      theme: \"grid\",\n      headStyles: { fillColor: [66, 139, 202], fontSize: 7 },\n      bodyStyles: { fontSize: 7 },\n      margin: { left: 14, right: 14 },\n    });\n\n    yPos = (doc as any).lastAutoTable.finalY + 6;\n\n    // Services Overview - compact\n    const servicesData = services.slice(0, 8).map((s) => [\n      s.name.substring(0, 25),\n      s.category.substring(0, 12),\n      s.status,\n    ]);\n\n    doc.setFontSize(10);\n    doc.text(\"Services\", 14, yPos);\n    yPos += 5;\n\n    autoTable(doc, {\n      startY: yPos,\n      head: [[\"Name\", \"Category\", \"Status\"]],\n      body: servicesData,\n      theme: \"grid\",\n      headStyles: { fillColor: [66, 139, 202], fontSize: 7 },\n      bodyStyles: { fontSize: 7 },\n      margin: { left: 14, right: 14 },\n    });\n\n    doc.save(`status-report-${new Date().toISOString().split(\"T\")[0]}.pdf`);\n  };\n\n  const exportToJSON = () => {\n    const avgMetrics = services.map((service) => {\n      const serviceMetrics = filteredMetrics.filter((m) => m.serviceId === service.id);\n      return {\n        serviceId: service.id,\n        serviceName: service.name,\n        avgCpu: serviceMetrics.length > 0\n          ? (serviceMetrics.reduce((sum, m) => sum + m.cpuUsage, 0) / serviceMetrics.length).toFixed(1)\n          : null,\n        avgRam: serviceMetrics.length > 0\n          ? (serviceMetrics.reduce((sum, m) => sum + m.ramUsage, 0) / serviceMetrics.length).toFixed(1)\n          : null,\n        avgDisk: serviceMetrics.length > 0\n          ? (serviceMetrics.reduce((sum, m) => sum + m.diskUsage, 0) / serviceMetrics.length).toFixed(1)\n          : null,\n      };\n    });\n\n    const data = {\n      dateRange: range\n        ? { from: format(range.start, \"yyyy-MM-dd\"), to: format(range.end, \"yyyy-MM-dd\") }\n        : \"all\",\n      generatedAt: new Date().toISOString(),\n      services,\n      incidents,\n      averageMetrics: avgMetrics,\n      statistics: {\n        totalServices,\n        operationalServices,\n        uptimePercentage,\n        activeIncidents,\n        mttr,\n      },\n    };\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: \"application/json\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `status-report-${new Date().toISOString().split(\"T\")[0]}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const exportToCSV = () => {\n    const csvRows = [];\n    \n    // Header\n    csvRows.push(\"Status Report\");\n    csvRows.push(`Generated;${new Date().toLocaleString()}`);\n    csvRows.push(`Date Range;${range ? `${format(range.start, \"MMM d, yyyy\")} - ${format(range.end, \"MMM d, yyyy\")}` : \"All Time\"}`);\n    csvRows.push(\"\");\n\n    // Summary\n    csvRows.push(\"Summary\");\n    csvRows.push(\"Metric;Value\");\n    csvRows.push(`Uptime;${uptimePercentage}%`);\n    csvRows.push(`Operational Services;${operationalServices}/${totalServices}`);\n    csvRows.push(`Active Incidents;${activeIncidents}`);\n    csvRows.push(`Mean Time to Resolve;${mttr}m`);\n    csvRows.push(\"\");\n\n    // Services\n    csvRows.push(\"Services\");\n    csvRows.push(\"Name;Category;Status;Last Updated\");\n    services.forEach((service) => {\n      csvRows.push(`${service.name};${service.category};${service.status};${new Date(service.updatedAt).toLocaleString()}`);\n    });\n    csvRows.push(\"\");\n\n    // Server Metrics\n    csvRows.push(\"Server Metrics\");\n    csvRows.push(\"Service;Updated;CPU;RAM;Disk\");\n    services.forEach((service) => {\n      const serviceMetrics = filteredMetrics.filter((m) => m.serviceId === service.id);\n      const latestMetric = serviceMetrics[serviceMetrics.length - 1];\n      const avgCpu = serviceMetrics.length > 0\n        ? (serviceMetrics.reduce((sum, m) => sum + m.cpuUsage, 0) / serviceMetrics.length).toFixed(1)\n        : \"N/A\";\n      const avgRam = serviceMetrics.length > 0\n        ? (serviceMetrics.reduce((sum, m) => sum + m.ramUsage, 0) / serviceMetrics.length).toFixed(1)\n        : \"N/A\";\n      const avgDisk = serviceMetrics.length > 0\n        ? (serviceMetrics.reduce((sum, m) => sum + m.diskUsage, 0) / serviceMetrics.length).toFixed(1)\n        : \"N/A\";\n      \n      csvRows.push(`${service.name};${latestMetric ? format(new Date(latestMetric.timestamp), \"MMM d HH:mm\") : \"N/A\"};${avgCpu}${avgCpu !== \"N/A\" ? \"%\" : \"\"};${avgRam}${avgRam !== \"N/A\" ? \"%\" : \"\"};${avgDisk}${avgDisk !== \"N/A\" ? \"%\" : \"\"}`);\n    });\n    csvRows.push(\"\");\n\n    // GitLab Incidents\n    csvRows.push(\"GitLab Incidents\");\n    csvRows.push(\"Time;Project;Title;Status;Description\");\n    incidents\n      .filter((inc) => {\n        const service = services.find((s) => s.id === inc.serviceId);\n        return service?.category === \"Infrastructure\" || service?.name.toLowerCase().includes(\"git\");\n      })\n      .forEach((incident) => {\n        const service = services.find((s) => s.id === incident.serviceId);\n        const desc = (incident.description || incident.severity).replace(/;/g, ',');\n        csvRows.push(`${format(new Date(incident.startedAt), \"MMM d HH:mm\")};${service?.name || \"Unknown\"};${incident.title};${incident.status === \"resolved\" ? \"‚úì\" : \"-\"};${desc}`);\n      });\n    csvRows.push(\"\");\n\n    // S3 Storage\n    csvRows.push(\"S3 Storage\");\n    csvRows.push(\"Time;Name;Quota;Used;Free\");\n    services\n      .filter((s) => s.category === \"Infrastructure\" || s.name.toLowerCase().includes(\"storage\") || s.name.toLowerCase().includes(\"s3\"))\n      .forEach((service) => {\n        const serviceMetrics = filteredMetrics.filter((m) => m.serviceId === service.id);\n        const latestMetric = serviceMetrics[serviceMetrics.length - 1];\n        const avgDisk = serviceMetrics.length > 0\n          ? (serviceMetrics.reduce((sum, m) => sum + m.diskUsage, 0) / serviceMetrics.length)\n          : 0;\n        const quota = 100;\n        const used = avgDisk;\n        const free = quota - used;\n\n        csvRows.push(`${latestMetric ? format(new Date(latestMetric.timestamp), \"MMM d HH:mm\") : \"N/A\"};${service.name};${quota.toFixed(0)}%;${used.toFixed(1)}%;${free.toFixed(1)}%`);\n      });\n\n    const csvContent = \"\\uFEFF\" + csvRows.join(\"\\r\\n\");\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `status-report-${new Date().toISOString().split(\"T\")[0]}.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const totalServices = services.length;\n  const operationalServices = services.filter((s) => s.status === \"operational\").length;\n  const uptimePercentage = totalServices > 0\n    ? ((operationalServices / totalServices) * 100).toFixed(2)\n    : \"0.00\";\n\n  const activeIncidents = incidents.filter((i) => i.status !== \"resolved\").length;\n\n  const resolvedIncidents = incidents.filter((i) => i.resolvedAt);\n  const mttr = resolvedIncidents.length > 0\n    ? Math.round(\n        resolvedIncidents.reduce((sum, inc) => {\n          const duration = new Date(inc.resolvedAt!).getTime() - new Date(inc.startedAt).getTime();\n          return sum + duration;\n        }, 0) / resolvedIncidents.length / (1000 * 60)\n      )\n    : 0;\n\n  const uptimeDays = range\n    ? eachDayOfInterval({ start: range.start, end: range.end })\n    : eachDayOfInterval({ start: subDays(new Date(), 29), end: new Date() });\n\n  const uptimeData = uptimeDays.map((date) => {\n    const dateStr = format(date, \"yyyy-MM-dd\");\n    const dayIncidents = allIncidents.filter((inc) => {\n      const incDate = new Date(inc.startedAt);\n      return format(incDate, \"yyyy-MM-dd\") === dateStr;\n    });\n\n    const criticalCount = dayIncidents.filter((i) => i.severity === \"critical\").length;\n    const majorCount = dayIncidents.filter((i) => i.severity === \"major\").length;\n    const degradedCount = dayIncidents.filter((i) => i.severity === \"degraded\").length;\n\n    let uptimePercent = 100;\n    if (criticalCount > 0) {\n      uptimePercent = Math.max(85, 100 - (criticalCount * 5 + majorCount * 2 + degradedCount));\n    } else if (majorCount > 0) {\n      uptimePercent = Math.max(90, 100 - (majorCount * 2 + degradedCount));\n    } else if (degradedCount > 0) {\n      uptimePercent = Math.max(95, 100 - degradedCount);\n    }\n\n    return {\n      date: format(date, \"MMM d\"),\n      uptime: uptimePercent,\n    };\n  });\n\n  const incidentsByDay = uptimeDays.map((date) => {\n    const dateStr = format(date, \"yyyy-MM-dd\");\n    const count = incidents.filter((inc) => {\n      const incDate = new Date(inc.startedAt);\n      return format(incDate, \"yyyy-MM-dd\") === dateStr;\n    }).length;\n    return {\n      date: format(date, \"MMM d\"),\n      incidents: count,\n    };\n  });\n\n  const statusDistribution = [\n    { name: \"Operational\", value: services.filter((s) => s.status === \"operational\").length, color: \"hsl(142 76% 45%)\" },\n    { name: \"Degraded\", value: services.filter((s) => s.status === \"degraded\").length, color: \"hsl(38 92% 50%)\" },\n    { name: \"Down\", value: services.filter((s) => s.status === \"down\").length, color: \"hsl(0 84% 60%)\" },\n    { name: \"Maintenance\", value: services.filter((s) => s.status === \"maintenance\").length, color: \"hsl(217 91% 60%)\" },\n  ].filter((item) => item.value > 0);\n\n  const categoryDistribution = Array.from(\n    services.reduce((acc, service) => {\n      acc.set(service.category, (acc.get(service.category) || 0) + 1);\n      return acc;\n    }, new Map<string, number>())\n  ).map(([name, value]) => ({ name, value }));\n\n  const severityByCategory = services.reduce((acc, service) => {\n    if (!acc[service.category]) {\n      acc[service.category] = { operational: 0, degraded: 0, down: 0, maintenance: 0 };\n    }\n    acc[service.category][service.status as keyof typeof acc[string]] += 1;\n    return acc;\n  }, {} as Record<string, Record<string, number>>);\n\n  const categoryChartData = Object.entries(severityByCategory).map(([category, stats]) => ({\n    category,\n    ...stats,\n  }));\n\n  return (\n    <div className=\"space-y-8\">\n      <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-semibold mb-2\">Reports & Analytics</h1>\n          <p className=\"text-muted-foreground\">Generate comprehensive reports with custom date ranges</p>\n        </div>\n        <Dialog>\n          <DialogTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\">\n              <Download className=\"w-4 h-4 mr-2\" />\n              Export\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"sm:max-w-md\">\n            <DialogHeader>\n              <DialogTitle>Export Report</DialogTitle>\n              <DialogDescription>\n                Choose a format to download your report\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"grid gap-3 py-4\">\n              <Button onClick={() => { exportToPDF(); }} variant=\"outline\" className=\"justify-start\">\n                <FileText className=\"w-4 h-4 mr-2\" />\n                Export as PDF\n              </Button>\n              <Button onClick={() => { exportToCSV(); }} variant=\"outline\" className=\"justify-start\">\n                <FileSpreadsheet className=\"w-4 h-4 mr-2\" />\n                Export as CSV\n              </Button>\n              <Button onClick={() => { exportToJSON(); }} variant=\"outline\" className=\"justify-start\">\n                <FileSpreadsheet className=\"w-4 h-4 mr-2\" />\n                Export as JSON\n              </Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      <Card className=\"p-6\">\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <div className=\"flex items-center gap-2\">\n            <CalendarIcon className=\"w-4 h-4 text-muted-foreground\" />\n            <Select value={dateRange} onValueChange={(v) => setDateRange(v as DateRange)}>\n              <SelectTrigger className=\"w-[180px]\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"7days\">Last 7 Days</SelectItem>\n                <SelectItem value=\"30days\">Last 30 Days</SelectItem>\n                <SelectItem value=\"3months\">Last 3 Months</SelectItem>\n                <SelectItem value=\"custom\">Custom Range</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {dateRange === \"custom\" && (\n            <div className=\"flex items-center gap-2\">\n              <Popover>\n                <PopoverTrigger asChild>\n                  <Button variant=\"outline\" size=\"sm\">\n                    {customDateFrom ? format(customDateFrom, \"MMM d, yyyy\") : \"From date\"}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                  <Calendar\n                    mode=\"single\"\n                    selected={customDateFrom}\n                    onSelect={setCustomDateFrom}\n                    initialFocus\n                  />\n                </PopoverContent>\n              </Popover>\n\n              <span className=\"text-muted-foreground\">to</span>\n\n              <Popover>\n                <PopoverTrigger asChild>\n                  <Button variant=\"outline\" size=\"sm\">\n                    {customDateTo ? format(customDateTo, \"MMM d, yyyy\") : \"To date\"}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                  <Calendar\n                    mode=\"single\"\n                    selected={customDateTo}\n                    onSelect={setCustomDateTo}\n                    initialFocus\n                  />\n                </PopoverContent>\n              </Popover>\n            </div>\n          )}\n\n          <Button\n            variant={showUnresolved ? \"default\" : \"outline\"}\n            size=\"sm\"\n            onClick={() => setShowUnresolved(!showUnresolved)}\n          >\n            <AlertCircle className=\"w-4 h-4 mr-2\" />\n            {showUnresolved ? \"Showing Unresolved Only\" : \"Show Unresolved Only\"}\n          </Button>\n        </div>\n      </Card>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <MetricCard\n          title=\"Overall Uptime\"\n          value={`${uptimePercentage}%`}\n          subtitle={range ? `${format(range.start, \"MMM d\")} - ${format(range.end, \"MMM d\")}` : \"All time\"}\n          trend=\"up\"\n          trendValue=\"+0.3%\"\n          icon={<Activity className=\"w-5 h-5\" />}\n        />\n        <MetricCard\n          title=\"Active Services\"\n          value={totalServices}\n          subtitle={`${operationalServices} operational`}\n          icon={<Server className=\"w-5 h-5\" />}\n        />\n        <MetricCard\n          title=\"Active Incidents\"\n          value={activeIncidents}\n          subtitle={`${incidents.length} total incidents`}\n          trend={activeIncidents > 0 ? \"down\" : \"neutral\"}\n          icon={<AlertCircle className=\"w-5 h-5\" />}\n        />\n        <MetricCard\n          title=\"Mean Time to Resolve\"\n          value={`${mttr}m`}\n          subtitle=\"Average resolution time\"\n          trend=\"up\"\n          trendValue=\"-12m\"\n          icon={<Clock className=\"w-5 h-5\" />}\n        />\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card className=\"p-6\">\n          <h3 className=\"text-lg font-medium mb-6\">Uptime Trend</h3>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <AreaChart data={uptimeData}>\n              <defs>\n                <linearGradient id=\"uptimeGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                  <stop offset=\"5%\" stopColor=\"hsl(142 76% 45%)\" stopOpacity={0.3} />\n                  <stop offset=\"95%\" stopColor=\"hsl(142 76% 45%)\" stopOpacity={0} />\n                </linearGradient>\n              </defs>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\n              <XAxis\n                dataKey=\"date\"\n                tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n                stroke=\"hsl(var(--border))\"\n              />\n              <YAxis\n                domain={[90, 100]}\n                tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n                stroke=\"hsl(var(--border))\"\n              />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: \"hsl(var(--popover))\",\n                  border: \"1px solid hsl(var(--border))\",\n                  borderRadius: \"6px\"\n                }}\n              />\n              <Area\n                type=\"monotone\"\n                dataKey=\"uptime\"\n                stroke=\"hsl(142 76% 45%)\"\n                fill=\"url(#uptimeGradient)\"\n                strokeWidth={2}\n              />\n            </AreaChart>\n          </ResponsiveContainer>\n        </Card>\n\n        <Card className=\"p-6\">\n          <h3 className=\"text-lg font-medium mb-6\">Incidents Over Time</h3>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <LineChart data={incidentsByDay}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\n              <XAxis\n                dataKey=\"date\"\n                tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n                stroke=\"hsl(var(--border))\"\n              />\n              <YAxis\n                tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n                stroke=\"hsl(var(--border))\"\n              />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: \"hsl(var(--popover))\",\n                  border: \"1px solid hsl(var(--border))\",\n                  borderRadius: \"6px\"\n                }}\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"incidents\"\n                stroke=\"hsl(0 84% 60%)\"\n                strokeWidth={2}\n                dot={{ fill: \"hsl(0 84% 60%)\", r: 4 }}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card className=\"p-6\">\n          <h3 className=\"text-lg font-medium mb-6\">Service Status Distribution</h3>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <PieChart>\n              <Pie\n                data={statusDistribution}\n                cx=\"50%\"\n                cy=\"50%\"\n                innerRadius={60}\n                outerRadius={100}\n                paddingAngle={5}\n                dataKey=\"value\"\n              >\n                {statusDistribution.map((entry, index) => (\n                  <Cell key={`cell-${index}`} fill={entry.color} />\n                ))}\n              </Pie>\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: \"hsl(var(--popover))\",\n                  border: \"1px solid hsl(var(--border))\",\n                  borderRadius: \"6px\"\n                }}\n              />\n              <Legend\n                verticalAlign=\"bottom\"\n                height={36}\n                wrapperStyle={{ fontSize: \"14px\" }}\n              />\n            </PieChart>\n          </ResponsiveContainer>\n        </Card>\n\n        <Card className=\"p-6\">\n          <h3 className=\"text-lg font-medium mb-6\">Status by Category</h3>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <BarChart data={categoryChartData}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\n              <XAxis\n                dataKey=\"category\"\n                tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n                stroke=\"hsl(var(--border))\"\n              />\n              <YAxis\n                tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n                stroke=\"hsl(var(--border))\"\n              />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: \"hsl(var(--popover))\",\n                  border: \"1px solid hsl(var(--border))\",\n                  borderRadius: \"6px\"\n                }}\n              />\n              <Legend />\n              <Bar dataKey=\"operational\" stackId=\"a\" fill=\"hsl(142 76% 45%)\" />\n              <Bar dataKey=\"degraded\" stackId=\"a\" fill=\"hsl(38 92% 50%)\" />\n              <Bar dataKey=\"down\" stackId=\"a\" fill=\"hsl(0 84% 60%)\" />\n              <Bar dataKey=\"maintenance\" stackId=\"a\" fill=\"hsl(217 91% 60%)\" />\n            </BarChart>\n          </ResponsiveContainer>\n        </Card>\n      </div>\n\n      <Card className=\"p-6\">\n        <h3 className=\"text-lg font-medium mb-6\">Server Info</h3>\n        <div className=\"overflow-x-auto\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Name</TableHead>\n                <TableHead>Date</TableHead>\n                <TableHead>\n                  <div className=\"flex items-center gap-2\">\n                    <Cpu className=\"w-4 h-4\" />\n                    CPU\n                  </div>\n                </TableHead>\n                <TableHead>\n                  <div className=\"flex items-center gap-2\">\n                    <Server className=\"w-4 h-4\" />\n                    RAM\n                  </div>\n                </TableHead>\n                <TableHead>\n                  <div className=\"flex items-center gap-2\">\n                    <HardDrive className=\"w-4 h-4\" />\n                    Disk\n                  </div>\n                </TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {services.map((service) => {\n                const serviceMetrics = filteredMetrics.filter((m) => m.serviceId === service.id);\n                const latestMetric = serviceMetrics[serviceMetrics.length - 1];\n                const avgCpu = serviceMetrics.length > 0\n                  ? (serviceMetrics.reduce((sum, m) => sum + m.cpuUsage, 0) / serviceMetrics.length)\n                  : null;\n                const avgRam = serviceMetrics.length > 0\n                  ? (serviceMetrics.reduce((sum, m) => sum + m.ramUsage, 0) / serviceMetrics.length)\n                  : null;\n                const avgDisk = serviceMetrics.length > 0\n                  ? (serviceMetrics.reduce((sum, m) => sum + m.diskUsage, 0) / serviceMetrics.length)\n                  : null;\n\n                return (\n                  <TableRow key={service.id}>\n                    <TableCell className=\"font-medium\">{service.name}</TableCell>\n                    <TableCell className=\"text-sm text-muted-foreground\">\n                      {latestMetric ? format(new Date(latestMetric.timestamp), \"MMM d, HH:mm\") : \"N/A\"}\n                    </TableCell>\n                    <TableCell>\n                      {avgCpu !== null ? (\n                        <span className={avgCpu > 80 ? \"text-red-600 dark:text-red-400 font-medium\" : \"\"}>\n                          {avgCpu.toFixed(1)}%\n                        </span>\n                      ) : \"N/A\"}\n                    </TableCell>\n                    <TableCell>\n                      {avgRam !== null ? (\n                        <span className={avgRam > 85 ? \"text-amber-600 dark:text-amber-400 font-medium\" : \"\"}>\n                          {avgRam.toFixed(1)}%\n                        </span>\n                      ) : \"N/A\"}\n                    </TableCell>\n                    <TableCell>\n                      {avgDisk !== null ? (\n                        <span className={avgDisk > 90 ? \"text-red-600 dark:text-red-400 font-medium\" : \"\"}>\n                          {avgDisk.toFixed(1)}%\n                        </span>\n                      ) : \"N/A\"}\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </div>\n      </Card>\n\n      <Card className=\"p-6\">\n        <h3 className=\"text-lg font-medium mb-6\">Services Overview</h3>\n        <div className=\"overflow-x-auto\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Name</TableHead>\n                <TableHead>Category</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Last Updated</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {services.map((service) => (\n                <TableRow key={service.id}>\n                  <TableCell className=\"font-medium\">{service.name}</TableCell>\n                  <TableCell>{service.category}</TableCell>\n                  <TableCell>\n                    <span\n                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                        service.status === \"operational\"\n                          ? \"bg-green-500/10 text-green-600 dark:text-green-400\"\n                          : service.status === \"degraded\"\n                          ? \"bg-amber-500/10 text-amber-600 dark:text-amber-400\"\n                          : service.status === \"down\"\n                          ? \"bg-red-500/10 text-red-600 dark:text-red-400\"\n                          : \"bg-blue-500/10 text-blue-600 dark:text-blue-400\"\n                      }`}\n                    >\n                      {service.status}\n                    </span>\n                  </TableCell>\n                  <TableCell className=\"text-sm text-muted-foreground\">\n                    {new Date(service.updatedAt).toLocaleString()}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </div>\n      </Card>\n\n      <Card className=\"p-6\">\n        <h3 className=\"text-lg font-medium mb-6\">GitLab Incidents</h3>\n        <div className=\"overflow-x-auto\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Time</TableHead>\n                <TableHead>Project</TableHead>\n                <TableHead>Total</TableHead>\n                <TableHead>Done</TableHead>\n                <TableHead>Reason</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {incidents\n                .filter((inc) => {\n                  const service = services.find((s) => s.id === inc.serviceId);\n                  return service?.category === \"Infrastructure\" || service?.name.toLowerCase().includes(\"git\");\n                })\n                .slice(0, 10)\n                .map((incident) => {\n                  const service = services.find((s) => s.id === incident.serviceId);\n                  const duration = incident.resolvedAt\n                    ? Math.round(\n                        (new Date(incident.resolvedAt).getTime() - new Date(incident.startedAt).getTime()) / (1000 * 60)\n                      )\n                    : null;\n                  return (\n                    <TableRow key={incident.id}>\n                      <TableCell className=\"text-sm text-muted-foreground\">\n                        {format(new Date(incident.startedAt), \"HH:mm MMM d\")}\n                      </TableCell>\n                      <TableCell className=\"font-medium\">{service?.name || \"Unknown\"}</TableCell>\n                      <TableCell className=\"text-sm\">{incident.title}</TableCell>\n                      <TableCell className=\"text-sm\">\n                        {incident.status === \"resolved\" ? \"‚úì\" : \"-\"}\n                      </TableCell>\n                      <TableCell className=\"text-sm text-muted-foreground\">\n                        {incident.description || incident.severity}\n                      </TableCell>\n                    </TableRow>\n                  );\n                })}\n            </TableBody>\n          </Table>\n        </div>\n      </Card>\n\n      <Card className=\"p-6\">\n        <h3 className=\"text-lg font-medium mb-6\">S3 Storage Metrics</h3>\n        <div className=\"overflow-x-auto\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Time</TableHead>\n                <TableHead>Name</TableHead>\n                <TableHead>Quota</TableHead>\n                <TableHead>Unfree</TableHead>\n                <TableHead>Free</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {services\n                .filter((s) => s.category === \"Infrastructure\" || s.name.toLowerCase().includes(\"storage\") || s.name.toLowerCase().includes(\"s3\"))\n                .map((service) => {\n                  const serviceMetrics = filteredMetrics.filter((m) => m.serviceId === service.id);\n                  const latestMetric = serviceMetrics[serviceMetrics.length - 1];\n                  const avgDisk = serviceMetrics.length > 0\n                    ? (serviceMetrics.reduce((sum, m) => sum + m.diskUsage, 0) / serviceMetrics.length)\n                    : 0;\n\n                  const quota = 100;\n                  const used = avgDisk;\n                  const free = quota - used;\n\n                  return (\n                    <TableRow key={service.id}>\n                      <TableCell className=\"text-sm text-muted-foreground\">\n                        {latestMetric ? format(new Date(latestMetric.timestamp), \"HH:mm MMM d\") : \"N/A\"}\n                      </TableCell>\n                      <TableCell className=\"font-medium\">{service.name}</TableCell>\n                      <TableCell className=\"text-sm\">{quota.toFixed(0)}%</TableCell>\n                      <TableCell className=\"text-sm\">\n                        <span className={used > 80 ? \"text-red-600 dark:text-red-400 font-medium\" : \"\"}>\n                          {used.toFixed(1)}%\n                        </span>\n                      </TableCell>\n                      <TableCell className=\"text-sm\">\n                        <span className={free < 20 ? \"text-amber-600 dark:text-amber-400 font-medium\" : \"text-green-600 dark:text-green-400\"}>\n                          {free.toFixed(1)}%\n                        </span>\n                      </TableCell>\n                    </TableRow>\n                  );\n                })}\n            </TableBody>\n          </Table>\n        </div>\n      </Card>\n    </div>\n  );\n}","size_bytes":38113},"statuserver/client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"statuserver/server_py/grafana_service.py":{"content":"import os\nimport httpx\nfrom typing import Dict, List, Any, Optional\nfrom models import ServiceStatus\n\nclass GrafanaService:\n    def __init__(self, storage):\n        self.grafana_url = os.getenv('GRAFANA_URL', '')\n        self.api_token = os.getenv('GRAFANA_API_TOKEN', '')\n        self.dashboard_id = os.getenv('GRAFANA_DASHBOARD_ID', '')\n        self.storage = storage\n        \n        if not self.grafana_url or not self.api_token:\n            print(\"Grafana configuration is incomplete. Syncing will be disabled.\")\n    \n    async def fetch_metrics(self, query: str = 'up{job=\"node_exporter\"}') -> List[Dict[str, Any]]:\n        if not self.grafana_url or not self.api_token:\n            raise Exception(\"Grafana is not configured\")\n        \n        base_url = f\"{self.grafana_url}/api/datasources/proxy/1/api/v1/query\"\n        url = f\"{base_url}?query={query}\"\n        \n        try:\n            async with httpx.AsyncClient(timeout=10.0) as client:\n                response = await client.get(\n                    url,\n                    headers={\n                        'Authorization': f'Bearer {self.api_token}',\n                        'Content-Type': 'application/json',\n                    }\n                )\n                \n                if response.status_code != 200:\n                    raise Exception(f\"Grafana API error: {response.status_code} {response.text}\")\n                \n                data = response.json()\n                \n                if data.get('status') != 'success':\n                    raise Exception(f\"Grafana query failed: {data.get('status')}\")\n                \n                return data.get('data', {}).get('result', [])\n        except Exception as error:\n            print(f\"Failed to fetch Grafana metrics: {error}\")\n            raise error\n    \n    async def sync_service_statuses(self) -> Dict[str, Any]:\n        updated = 0\n        errors = 0\n        \n        try:\n            metrics = await self.fetch_metrics()\n            services = await self.storage.get_services()\n            \n            for metric in metrics:\n                instance = metric.get('metric', {}).get('instance', '')\n                is_up = metric.get('value', [None, '0'])[1] == '1'\n                new_status: ServiceStatus = 'operational' if is_up else 'down'\n                \n                matching_services = []\n                for service in services:\n                    if not service.address:\n                        continue\n                    \n                    service_address = f\"{service.address}:{service.port}\" if service.port else service.address\n                    \n                    if (instance and service.address and service.address in instance) or \\\n                       instance == service_address or \\\n                       (service.name and instance and service.name.lower() in instance.lower()) or \\\n                       (instance and service.name and instance.lower() in service.name.lower()):\n                        matching_services.append(service)\n                \n                for service in matching_services:\n                    if service.status != new_status:\n                        try:\n                            await self.storage.update_service_status(service.id, new_status)\n                            updated += 1\n                            print(f\"Updated {service.name}: {service.status} -> {new_status}\")\n                        except Exception as err:\n                            print(f\"Failed to update service {service.id}: {err}\")\n                            errors += 1\n            \n            print(f\"Grafana sync completed: {updated} updated, {errors} errors\")\n            return {'updated': updated, 'errors': errors}\n        except Exception as error:\n            print(f\"Grafana sync failed - setting all services to loading state: {error}\")\n            \n            services = await self.storage.get_services()\n            loading_count = 0\n            \n            for service in services:\n                if service.status != 'loading':\n                    try:\n                        await self.storage.update_service_status(service.id, 'loading')\n                        loading_count += 1\n                    except Exception as err:\n                        print(f\"Failed to set loading status for {service.id}: {err}\")\n            \n            print(f\"Set {loading_count} services to loading state due to Grafana unavailability\")\n            return {'updated': loading_count, 'errors': 0, 'skipped': True}\n    \n    def is_configured(self) -> bool:\n        return bool(self.grafana_url and self.api_token)\n\ndef create_grafana_service(storage):\n    return GrafanaService(storage)\n","size_bytes":4694},"statuserver/client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"statuserver/shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, integer, real } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const services = pgTable(\"services\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  description: text(\"description\"),\n  category: text(\"category\").notNull(),\n  region: text(\"region\").notNull(),\n  status: text(\"status\").notNull().default(\"operational\"),\n  type: text(\"type\"),\n  icon: text(\"icon\"),\n  address: text(\"address\"),\n  port: integer(\"port\"),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\nexport const serverMetrics = pgTable(\"server_metrics\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  serviceId: varchar(\"service_id\").notNull(),\n  cpuUsage: real(\"cpu_usage\").notNull(),\n  ramUsage: real(\"ram_usage\").notNull(),\n  diskUsage: real(\"disk_usage\").notNull(),\n  timestamp: timestamp(\"timestamp\").notNull().defaultNow(),\n});\n\nexport const incidents = pgTable(\"incidents\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  serviceId: varchar(\"service_id\").notNull(),\n  title: text(\"title\").notNull(),\n  description: text(\"description\"),\n  status: text(\"status\").notNull(),\n  severity: text(\"severity\").notNull(),\n  startedAt: timestamp(\"started_at\").notNull().defaultNow(),\n  resolvedAt: timestamp(\"resolved_at\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const statusHistory = pgTable(\"status_history\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  serviceId: varchar(\"service_id\").notNull(),\n  status: text(\"status\").notNull(),\n  timestamp: timestamp(\"timestamp\").notNull().defaultNow(),\n});\n\nexport const insertServiceSchema = createInsertSchema(services).omit({\n  id: true,\n  updatedAt: true,\n});\n\nexport const insertIncidentSchema = createInsertSchema(incidents).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertStatusHistorySchema = createInsertSchema(statusHistory).omit({\n  id: true,\n});\n\nexport const insertServerMetricsSchema = createInsertSchema(serverMetrics).omit({\n  id: true,\n  timestamp: true,\n});\n\nexport type InsertService = z.infer<typeof insertServiceSchema>;\nexport type Service = typeof services.$inferSelect;\n\nexport type InsertIncident = z.infer<typeof insertIncidentSchema>;\nexport type Incident = typeof incidents.$inferSelect;\n\nexport type InsertStatusHistory = z.infer<typeof insertStatusHistorySchema>;\nexport type StatusHistory = typeof statusHistory.$inferSelect;\n\nexport type InsertServerMetrics = z.infer<typeof insertServerMetricsSchema>;\nexport type ServerMetrics = typeof serverMetrics.$inferSelect;\n\nexport type ServiceStatus = \"operational\" | \"degraded\" | \"down\" | \"maintenance\" | \"loading\";\nexport type IncidentSeverity = \"minor\" | \"major\" | \"critical\";\nexport type IncidentStatus = \"investigating\" | \"identified\" | \"monitoring\" | \"resolved\";\n","size_bytes":2979},"statuserver/server_py/import_data.py":{"content":"from typing import Dict, List, Any\nfrom models import InsertService\n\ndef get_icon_for_type(service_type: str) -> str:\n    type_map = {\n        'DevTools': 'wrench',\n        'Backend': 'server',\n        'Frontend': 'globe',\n        'BPMN': 'workflow',\n        'PSQL': 'database',\n        'Database': 'database',\n        'Keycloak': 'shield',\n        'Grafana': 'chart',\n        'Kafka': 'message-square',\n        'Minio': 'database',\n        'Redis': 'database',\n        'RabbitMQ': 'message-square',\n    }\n    return type_map.get(service_type, 'server')\n\nasync def import_services_from_data(storage, data: Dict[str, Dict[str, List[Dict[str, Any]]]]) -> int:\n    services: List[InsertService] = []\n    \n    for environment in data.keys():\n        for category in data[environment].keys():\n            items = data[environment][category]\n            \n            for item in items:\n                service = InsertService(\n                    name=item.get('Name', ''),\n                    description=f\"{item.get('Type', '')} service\",\n                    category=category,\n                    region=environment,\n                    status=\"operational\",\n                    type=item.get('Type'),\n                    icon=get_icon_for_type(item.get('Type', '')),\n                    address=item.get('Address'),\n                    port=item.get('Port')\n                )\n                services.append(service)\n    \n    for service in services:\n        await storage.create_service(service)\n    \n    return len(services)\n","size_bytes":1525},"statuserver/DOCKER_QUICKSTART_RU.md":{"content":"# üê≥ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —Å Docker\n\n## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –ò–°–ü–†–ê–í–õ–ï–ù–ê!\n\nDocker —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–∂–µ –≤–Ω–µ—Å–µ–Ω—ã.\n\n## –ó–∞–ø—É—Å–∫ –∑–∞ 3 —à–∞–≥–∞\n\n### 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞\n\n```bash\ncd C:\\Users\\Nursultan\\Desktop\\statuserver\\statuserver\n```\n\n### 2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–æ–∑–¥–∞–π—Ç–µ .env –¥–ª—è Grafana\n\n–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Grafana, —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:\n\n**Windows PowerShell:**\n```powershell\n@\"\nGRAFANA_URL=http://10.128.0.38:3000\nGRAFANA_API_TOKEN=glsa_SSwlVwr0yWshV2re9TZlV14jcN7oQBgT_1059b810\n\"@ | Out-File -FilePath .env -Encoding UTF8\n```\n\n**Windows CMD:**\n```cmd\n(\necho GRAFANA_URL=http://10.128.0.38:3000\necho GRAFANA_API_TOKEN=glsa_SSwlVwr0yWshV2re9TZlV14jcN7oQBgT_1059b810\n) > .env\n```\n\n**Linux/Mac:**\n```bash\ncat > .env << 'EOF'\nGRAFANA_URL=http://10.128.0.38:3000\nGRAFANA_API_TOKEN=glsa_SSwlVwr0yWshV2re9TZlV14jcN7oQBgT_1059b810\nEOF\n```\n\n### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Compose\n\n```bash\ndocker-compose up --build\n```\n\n**–ì–æ—Ç–æ–≤–æ!** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ **http://localhost:5000**\n\n---\n\n## –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è\n\n### –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:\n```bash\ndocker-compose up -d --build\n```\n\n### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:\n```bash\ndocker-compose logs -f\n```\n\n### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:\n```bash\ndocker-compose down\n```\n\n### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:\n```bash\ndocker-compose down\ndocker-compose up --build\n```\n\n---\n\n## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (29.10.2025)\n\n### –ü—Ä–æ–±–ª–µ–º–∞ 1: `Cannot find module '/app/dist/index.js'`\n‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**\n- –û–±–Ω–æ–≤–ª—ë–Ω Dockerfile —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—É—Ç—ë–º: `dist/server/index.js`\n- –î–æ–±–∞–≤–ª–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π tsconfig.server.json\n- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è esbuild –¥–ª—è —Å–±–æ—Ä–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞\n\n### –ü—Ä–æ–±–ª–µ–º–∞ 2: `Cannot find package 'vite'`\n‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**\n- `vite` –ø–µ—Ä–µ–º–µ—â—ë–Ω –∏–∑ devDependencies –≤ dependencies\n- –î–æ–±–∞–≤–ª–µ–Ω `--external:vite` –≤ esbuild –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é\n- –¢–µ–ø–µ—Ä—å vite –¥–æ—Å—Ç—É–ø–µ–Ω –≤ production –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ\n\n---\n\n## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏\n\n```\ndist/\n‚îú‚îÄ‚îÄ public/           # Frontend (Vite bundle)\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îî‚îÄ‚îÄ assets/\n‚îÇ       ‚îú‚îÄ‚îÄ index-*.css\n‚îÇ       ‚îî‚îÄ‚îÄ index-*.js\n‚îî‚îÄ‚îÄ server/\n    ‚îî‚îÄ‚îÄ index.js      # Backend (esbuild bundle, 65KB)\n```\n\n---\n\n## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Docker\n\n–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:\n\n### –°–ø–æ—Å–æ–± 1: –§–∞–π–ª .env (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)\n–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `statuserver/`:\n```env\nGRAFANA_URL=http://10.128.0.38:3000\nGRAFANA_API_TOKEN=glsa_SSwlVwr0yWshV2re9TZlV14jcN7oQBgT_1059b810\n```\n\n### –°–ø–æ—Å–æ–± 2: –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å docker-compose.yml\n```yaml\nenvironment:\n  - NODE_ENV=production\n  - PORT=5000\n  - GRAFANA_URL=http://10.128.0.38:3000\n  - GRAFANA_API_TOKEN=glsa_SSwlVwr0yWshV2re9TZlV14jcN7oQBgT_1059b810\n```\n\n---\n\n## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã\n\n–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Docker:\n\n### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω\n```bash\ndocker ps\n```\n\n–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:\n```\nCONTAINER ID   IMAGE                 STATUS         PORTS\nxxxxx          statuserver-app       Up 10 seconds  0.0.0.0:5000->5000/tcp\n```\n\n### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏\n```bash\ndocker-compose logs\n```\n\n–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:\n```\napp-1  | serving on port 5000\napp-1  | Grafana integration is configured. Starting automatic sync...\n```\n\n### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API\n```bash\ncurl http://localhost:5000/api/services\n```\n\n### 4. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ\n```\nhttp://localhost:5000\n```\n\n---\n\n## Troubleshooting\n\n### –ü–æ—Ä—Ç 5000 –∑–∞–Ω—è—Ç\n\n–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `docker-compose.yml`:\n\n```yaml\nports:\n  - \"3000:5000\"  # –õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç 3000 ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Ä—Ç 5000\n```\n\n–ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000\n\n### –û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ\n\n```bash\n# –û—á–∏—Å—Ç–∏—Ç–µ Docker –∫–µ—à –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ\ndocker-compose down\ndocker system prune -a\ndocker-compose up --build\n```\n\n### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è\n\n```bash\n# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ\ndocker-compose build --no-cache\ndocker-compose up\n```\n\n### Grafana –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è (–≤–Ω—É—Ç—Ä–∏ Docker)\n\n–ï—Å–ª–∏ –≤–∞—à Grafana –Ω–∞ `http://10.128.0.38:3000`, —É–±–µ–¥–∏—Ç–µ—Å—å:\n1. Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ —ç—Ç–æ–≥–æ IP\n2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `host.docker.internal` –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ IP:\n   ```env\n   GRAFANA_URL=http://host.docker.internal:3000\n   ```\n\n---\n\n## Production Deployment\n\n–î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:\n\n1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ environment variables –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤**\n   - –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ docker-compose.yml\n   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker secrets –∏–ª–∏ .env —Ñ–∞–π–ª\n\n2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ volume –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏**\n   ```yaml\n   volumes:\n     - app-data:/app/data\n   ```\n\n3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ health checks**\n   ```yaml\n   healthcheck:\n     test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:5000/api/services\"]\n     interval: 30s\n     timeout: 10s\n     retries: 3\n   ```\n\n4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ reverse proxy (nginx/traefik)**\n\n---\n\n## –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è\n\n–°–º–æ—Ç—Ä–∏—Ç–µ `SETUP_GUIDE_RU.md` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–æ –≤—Å–µ–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –∑–∞–ø—É—Å–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Grafana –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.\n\n---\n\n## üìù Changelog\n\n### 2025-10-29: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Vite –¥–ª—è Docker\n- ‚úÖ `vite` –ø–µ—Ä–µ–º–µ—â—ë–Ω –≤ dependencies (–±—ã–ª –≤ devDependencies)\n- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `--external:vite` –≤ esbuild\n- ‚úÖ Docker —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫\n- ‚úÖ Production —Å–±–æ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞\n","size_bytes":6219},"statuserver/client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"statuserver/client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"statuserver/client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"statuserver/client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"statuserver/client/src/lib/serviceUtils.ts":{"content":"import { Service } from \"@shared/schema\";\n\nexport function getServiceUrl(service: Service): string | null {\n  if (!service.address) return null;\n  \n  const isIp = /^[0-9.]+$/.test(service.address);\n  \n  if (service.address.startsWith(\"http\")) {\n    return service.address;\n  } else if (isIp && service.port) {\n    return `http://${service.address}:${service.port}`;\n  } else if (service.address) {\n    return `https://${service.address}`;\n  }\n  \n  return null;\n}\n\nexport function openServiceUrl(service: Service) {\n  const url = getServiceUrl(service);\n  if (url) {\n    window.open(url, '_blank');\n  }\n}\n","size_bytes":604},"statuserver/client/src/pages/Dashboard.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Service } from \"@shared/schema\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card } from \"@/components/ui/card\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Search, Star, RefreshCw, BarChart3, AlertCircle } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport { useFavorites } from \"@/hooks/use-favorites\";\nimport { useAvailability } from \"@/hooks/use-availability\";\n\nexport default function Dashboard() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [activeEnvironment, setActiveEnvironment] = useState<string | null>(null);\n  const [showFavorites, setShowFavorites] = useState(false);\n  const [checkingAvailability, setCheckingAvailability] = useState(false);\n  const [showUnavailableDialog, setShowUnavailableDialog] = useState(false);\n\n  const { data: services = [], isLoading } = useQuery<Service[]>({\n    queryKey: [\"/api/services\"],\n  });\n\n  const { favorites, toggleFavorite, isFavorite } = useFavorites();\n  const { checkAvailability } = useAvailability();\n\n  const environments = Array.from(new Set(services.map(s => s.region))).sort();\n\n  useEffect(() => {\n    if (environments.length > 0 && !activeEnvironment) {\n      setActiveEnvironment(environments[0]);\n    }\n  }, [environments, activeEnvironment]);\n\n  const handleCheckAll = async () => {\n    setCheckingAvailability(true);\n    for (const service of services) {\n      if (service.address) {\n        await checkAvailability(service.id);\n        await new Promise(resolve => setTimeout(resolve, 100));\n      }\n    }\n    setCheckingAvailability(false);\n  };\n\n  const filteredServices = services.filter((service) => {\n    const matchesSearch = service.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      service.description?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      service.address?.toLowerCase().includes(searchQuery.toLowerCase());\n\n    if (showFavorites) {\n      return matchesSearch && isFavorite(service.id);\n    }\n\n    const matchesEnvironment = !activeEnvironment || service.region === activeEnvironment;\n    return matchesSearch && matchesEnvironment;\n  });\n\n  const favoriteServices = services.filter(s => isFavorite(s.id));\n\n  const statusCounts = {\n    operational: services.filter((s) => s.status === \"operational\").length,\n    degraded: services.filter((s) => s.status === \"degraded\").length,\n    down: services.filter((s) => s.status === \"down\").length,\n    maintenance: services.filter((s) => s.status === \"maintenance\").length,\n    loading: services.filter((s) => s.status === \"loading\").length,\n  };\n\n  const environmentStats = environments.reduce((acc, env) => {\n    acc[env] = services.filter(s => s.region === env).length;\n    return acc;\n  }, {} as Record<string, number>);\n\n  const types = Array.from(new Set(services.map(s => s.type).filter(Boolean))).sort();\n  const typeStats = types.reduce((acc, type) => {\n    if (type) {\n      acc[type] = services.filter(s => s.type === type).length;\n    }\n    return acc;\n  }, {} as Record<string, number>);\n\n  const allOperational = statusCounts.degraded === 0 && statusCounts.down === 0;\n\n  const openService = (address?: string | null, port?: number | null) => {\n    if (!address) return;\n\n    let url = address;\n    if (!url.startsWith('http://') && !url.startsWith('https://')) {\n      url = `http://${url}`;\n    }\n\n    if (port && !address.includes(':')) {\n      url = `${url}:${port}`;\n    }\n\n    window.open(url, '_blank');\n  };\n\n  const unavailableServices = services.filter(s => s.status === \"down\" || s.status === \"degraded\");\n\n  return (\n    <div className=\"space-y-6 md:space-y-8\">\n      <Dialog open={showUnavailableDialog} onOpenChange={setShowUnavailableDialog}>\n        <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2 text-base sm:text-lg\">\n              <AlertCircle className=\"w-4 h-4 sm:w-5 sm:h-5 text-amber-500\" />\n              –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã\n            </DialogTitle>\n          </DialogHeader>\n          <div className=\"mt-4\">\n            {unavailableServices.length === 0 ? (\n              <p className=\"text-center text-muted-foreground py-8\">–ù–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤</p>\n            ) : (\n              <>\n                {/* Desktop Table View */}\n                <div className=\"hidden md:block\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead className=\"w-[15%]\">–°—Ç–∞—Ç—É—Å</TableHead>\n                        <TableHead className=\"w-[25%]\">–ò–º—è</TableHead>\n                        <TableHead className=\"w-[20%]\">–¢–∏–ø</TableHead>\n                        <TableHead className=\"w-[20%]\">–°—Ä–µ–¥–∞</TableHead>\n                        <TableHead className=\"w-[20%]\">–ê–¥—Ä–µ—Å</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {unavailableServices.map((service) => {\n                        const isDown = service.status === \"down\";\n                        const isDegraded = service.status === \"degraded\";\n                        \n                        return (\n                          <TableRow key={service.id}>\n                            <TableCell>\n                              {isDown && (\n                                <div className=\"flex items-center gap-2 bg-red-600 px-3 py-1.5 rounded-md border-2 border-red-700\">\n                                  <div className=\"w-2.5 h-2.5 rounded-full bg-white\" />\n                                  <span className=\"text-xs font-bold text-white\">DOWN</span>\n                                </div>\n                              )}\n                              {isDegraded && (\n                                <div className=\"flex items-center gap-2 bg-amber-600 px-3 py-1.5 rounded-md border-2 border-amber-700\">\n                                  <div className=\"w-2.5 h-2.5 rounded-full bg-white animate-pulse\" />\n                                  <span className=\"text-xs font-bold text-white\">WARN</span>\n                                </div>\n                              )}\n                            </TableCell>\n                            <TableCell className=\"font-medium\">{service.name}</TableCell>\n                            <TableCell>\n                              <Badge variant=\"secondary\">{service.type || \"–î—Ä—É–≥–æ–µ\"}</Badge>\n                            </TableCell>\n                            <TableCell>\n                              <Badge variant=\"outline\">{service.region}</Badge>\n                            </TableCell>\n                            <TableCell className=\"font-mono text-xs\">\n                              {service.address ? (\n                                <a\n                                  href={service.address?.startsWith('http') ? service.address : `http://${service.address}`}\n                                  target=\"_blank\"\n                                  rel=\"noopener noreferrer\"\n                                  className=\"text-primary hover:underline\"\n                                >\n                                  {service.address}\n                                </a>\n                              ) : (\n                                <span className=\"text-muted-foreground\">‚Äî</span>\n                              )}\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                    </TableBody>\n                  </Table>\n                </div>\n\n                {/* Mobile Card View */}\n                <div className=\"md:hidden space-y-3\">\n                  {unavailableServices.map((service) => {\n                    const isDown = service.status === \"down\";\n                    const isDegraded = service.status === \"degraded\";\n                    \n                    return (\n                      <Card key={service.id} className=\"p-3\">\n                        <div className=\"space-y-2\">\n                          <div className=\"flex items-start justify-between gap-2\">\n                            <h3 className=\"font-medium text-sm flex-1\">{service.name}</h3>\n                            <div className=\"flex-shrink-0\">\n                              {isDown && (\n                                <div className=\"flex items-center gap-1 bg-red-600 px-2 py-1 rounded border border-red-700\">\n                                  <div className=\"w-1.5 h-1.5 rounded-full bg-white\" />\n                                  <span className=\"text-[10px] font-bold text-white\">DOWN</span>\n                                </div>\n                              )}\n                              {isDegraded && (\n                                <div className=\"flex items-center gap-1 bg-amber-600 px-2 py-1 rounded border border-amber-700\">\n                                  <div className=\"w-1.5 h-1.5 rounded-full bg-white animate-pulse\" />\n                                  <span className=\"text-[10px] font-bold text-white\">WARN</span>\n                                </div>\n                              )}\n                            </div>\n                          </div>\n                          \n                          <div className=\"flex flex-wrap gap-2\">\n                            <Badge variant=\"secondary\" className=\"text-xs\">\n                              {service.type || \"–î—Ä—É–≥–æ–µ\"}\n                            </Badge>\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {service.region}\n                            </Badge>\n                          </div>\n                          \n                          {service.address && (\n                            <a\n                              href={service.address?.startsWith('http') ? service.address : `http://${service.address}`}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className=\"text-xs text-primary hover:underline block truncate\"\n                            >\n                              {service.address}\n                            </a>\n                          )}\n                        </div>\n                      </Card>\n                    );\n                  })}\n                </div>\n              </>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      <div className=\"space-y-4\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3\">\n          <h1 className=\"text-xl sm:text-2xl md:text-3xl font-semibold\">–ü–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–µ—Ä–≤–∏—Å–æ–≤</h1>\n        </div>\n\n        {allOperational ? (\n          <div className=\"p-4 rounded-lg bg-green-500/10 border border-green-500/20\">\n            <div className=\"flex items-center gap-2 text-green-600 dark:text-green-400\">\n              <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\" />\n              <p className=\"font-medium\">–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç</p>\n            </div>\n          </div>\n        ) : (\n          <button\n            onClick={() => setShowUnavailableDialog(true)}\n            className=\"w-full p-4 rounded-lg bg-amber-500/10 border border-amber-500/20 hover:bg-amber-500/20 transition-colors cursor-pointer text-left\"\n          >\n            <div className=\"flex items-center gap-2 text-amber-600 dark:text-amber-400\">\n              <div className=\"w-2 h-2 rounded-full bg-amber-500 animate-pulse\" />\n              <AlertCircle className=\"w-4 h-4\" />\n              <p className=\"font-medium\">\n                {statusCounts.down > 0\n                  ? `${statusCounts.down} —Å–µ—Ä–≤–∏—Å(–æ–≤) –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ`\n                  : `${statusCounts.degraded} —Å–µ—Ä–≤–∏—Å(–æ–≤) —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏`}\n              </p>\n              <span className=\"ml-auto text-xs opacity-75\">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π</span>\n            </div>\n          </button>\n        )}\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4\">\n          <Card className=\"p-3 md:p-4\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <BarChart3 className=\"w-4 h-4 text-primary\" />\n              <h3 className=\"font-medium text-sm md:text-base\">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ä–µ–¥–∞–º</h3>\n            </div>\n            <div className=\"space-y-1.5 md:space-y-2\">\n              {Object.entries(environmentStats).slice(0, 5).map(([env, count]) => (\n                <div key={env} className=\"flex justify-between text-xs md:text-sm\">\n                  <span className=\"text-muted-foreground truncate\">{env}</span>\n                  <Badge variant=\"secondary\" className=\"text-xs\">{count}</Badge>\n                </div>\n              ))}\n            </div>\n          </Card>\n\n          <Card className=\"p-3 md:p-4\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <BarChart3 className=\"w-4 h-4 text-primary\" />\n              <h3 className=\"font-medium text-sm md:text-base\">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º</h3>\n            </div>\n            <div className=\"space-y-1.5 md:space-y-2\">\n              {Object.entries(typeStats).slice(0, 5).map(([type, count]) => (\n                <div key={type} className=\"flex justify-between text-xs md:text-sm\">\n                  <span className=\"text-muted-foreground\">{type}</span>\n                  <Badge variant=\"secondary\" className=\"text-xs\">{count}</Badge>\n                </div>\n              ))}\n            </div>\n          </Card>\n\n          <Card className=\"p-3 md:p-4\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <Star className=\"w-4 h-4 text-yellow-500 fill-yellow-500\" />\n              <h3 className=\"font-medium text-sm md:text-base\">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h3>\n            </div>\n            <div className=\"space-y-1.5 md:space-y-2\">\n              <div className=\"flex justify-between text-xs md:text-sm\">\n                <span className=\"text-muted-foreground\">–ò–∑–±—Ä–∞–Ω–Ω—ã—Ö</span>\n                <Badge variant=\"secondary\" className=\"text-xs\">{favorites.length}</Badge>\n              </div>\n              <div className=\"flex justify-between text-xs md:text-sm\">\n                <span className=\"text-muted-foreground\">–í—Å–µ–≥–æ —Å–µ—Ä–≤–∏—Å–æ–≤</span>\n                <Badge className=\"text-xs\">{services.length}</Badge>\n              </div>\n            </div>\n          </Card>\n        </div>\n\n        <div className=\"flex flex-col gap-4\">\n          <div className=\"flex flex-col sm:flex-row gap-3 sm:items-center justify-between\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, –æ–ø–∏—Å–∞–Ω–∏—é –∏–ª–∏ –∞–¥—Ä–µ—Å—É...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n            <Button\n              variant=\"outline\"\n              onClick={handleCheckAll}\n              disabled={checkingAvailability}\n              className=\"w-full sm:w-auto\"\n            >\n              <RefreshCw className={`mr-2 h-4 w-4 ${checkingAvailability ? 'animate-spin' : ''}`} />\n              –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å\n            </Button>\n          </div>\n\n          <div className=\"flex flex-nowrap gap-2 items-center overflow-x-auto pb-2 -mx-1 px-1\">\n            <Button\n              variant={showFavorites ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setShowFavorites(!showFavorites)}\n              className=\"flex-shrink-0\"\n            >\n              <Star className=\"w-4 h-4 mr-1\" />\n              –ò–∑–±—Ä–∞–Ω–Ω–æ–µ ({favoriteServices.length})\n            </Button>\n            {!showFavorites && (\n              <>\n                <div className=\"h-6 w-px bg-border mx-2 flex-shrink-0\" />\n                {environments.map(env => (\n                  <Button\n                    key={env}\n                    variant={activeEnvironment === env ? \"default\" : \"outline\"}\n                    size=\"sm\"\n                    onClick={() => setActiveEnvironment(env)}\n                    className=\"flex-shrink-0\"\n                  >\n                    {env}\n                  </Button>\n                ))}\n              </>\n            )}\n          </div>\n        </div>\n\n        <div className=\"mt-6 space-y-6\">\n          {isLoading ? (\n            <div className=\"space-y-4\">\n              {[...Array(3)].map((_, i) => (\n                <div key={i} className=\"h-40 rounded-lg bg-card animate-pulse\" />\n              ))}\n            </div>\n          ) : filteredServices.length === 0 ? (\n            <div className=\"text-center py-12\">\n              {showFavorites ? (\n                <>\n                  <Star className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n                  <p className=\"text-muted-foreground\">–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤</p>\n                </>\n              ) : (\n                <p className=\"text-muted-foreground\">–°–µ—Ä–≤–∏—Å—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>\n              )}\n            </div>\n          ) : (\n            (() => {\n              const groupedByType = filteredServices.reduce((acc, service) => {\n                const type = service.type || '–î—Ä—É–≥–æ–µ';\n                if (!acc[type]) {\n                  acc[type] = [];\n                }\n                acc[type].push(service);\n                return acc;\n              }, {} as Record<string, Service[]>);\n\n              return Object.keys(groupedByType).sort().map((type) => (\n                <Card key={type} className=\"overflow-hidden\">\n                  <div className=\"p-3 sm:p-4 border-b bg-muted/50\">\n                    <h2 className=\"text-lg sm:text-xl font-semibold\">{type}</h2>\n                  </div>\n\n                  {/* Desktop Table View */}\n                  <div className=\"hidden md:block overflow-x-auto\">\n                    <Table>\n                      <TableHeader>\n                        <TableRow>\n                          <TableHead className=\"w-[30%]\">Name</TableHead>\n                          <TableHead className=\"w-[45%]\">Address</TableHead>\n                          <TableHead className=\"w-[20%]\">Port/URL</TableHead>\n                          <TableHead className=\"w-[5%]\">–°—Ç–∞—Ç—É—Å</TableHead>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        {groupedByType[type].map((service) => {\n                          const isOperational = service.status === \"operational\";\n                          const isDown = service.status === \"down\";\n                          const isDegraded = service.status === \"degraded\";\n                          const isMaintenance = service.status === \"maintenance\";\n                          const isLoadingStatus = service.status === \"loading\";\n                          \n                          return (\n                            <TableRow key={service.id}>\n                              <TableCell className=\"font-medium\">\n                                <div className=\"flex items-center gap-2\">\n                                  <button\n                                    onClick={() => toggleFavorite(service.id)}\n                                    className=\"text-muted-foreground hover:text-yellow-500 transition-colors\"\n                                  >\n                                    <Star\n                                      className={`w-4 h-4 ${\n                                        isFavorite(service.id) ? 'fill-yellow-500 text-yellow-500' : ''\n                                      }`}\n                                    />\n                                  </button>\n                                  {service.name}\n                                </div>\n                              </TableCell>\n                              <TableCell>\n                                <a\n                                  href={service.address?.startsWith('http') ? service.address : `http://${service.address}`}\n                                  target=\"_blank\"\n                                  rel=\"noopener noreferrer\"\n                                  className=\"text-primary hover:underline\"\n                                >\n                                  {service.address}\n                                </a>\n                              </TableCell>\n                              <TableCell>\n                                <div className=\"flex items-center gap-2\">\n                                  <span>{service.port}</span>\n                                  {service.address && (\n                                    <Button\n                                      size=\"sm\"\n                                      variant=\"outline\"\n                                      onClick={() => openService(service.address, service.port)}\n                                      className=\"h-7 px-2\"\n                                    >\n                                      –û—Ç–∫—Ä—ã—Ç—å\n                                    </Button>\n                                  )}\n                                </div>\n                              </TableCell>\n                              <TableCell>\n                                <div className=\"flex items-center justify-center\">\n                                  {isOperational && (\n                                    <div className=\"flex items-center gap-2 bg-green-600 px-4 py-2 rounded-md border-2 border-green-700\">\n                                      <div className=\"w-3 h-3 rounded-full bg-white animate-pulse\" />\n                                      <span className=\"text-sm font-bold text-white\">UP</span>\n                                    </div>\n                                  )}\n                                  {isDown && (\n                                    <div className=\"flex items-center gap-2 bg-red-600 px-4 py-2 rounded-md border-2 border-red-700\">\n                                      <div className=\"w-3 h-3 rounded-full bg-white\" />\n                                      <span className=\"text-sm font-bold text-white\">DOWN</span>\n                                    </div>\n                                  )}\n                                  {isDegraded && (\n                                    <div className=\"flex items-center gap-2 bg-amber-600 px-4 py-2 rounded-md border-2 border-amber-700\">\n                                      <div className=\"w-3 h-3 rounded-full bg-white animate-pulse\" />\n                                      <span className=\"text-sm font-bold text-white\">WARN</span>\n                                    </div>\n                                  )}\n                                  {isMaintenance && (\n                                    <div className=\"flex items-center gap-2 bg-blue-600 px-4 py-2 rounded-md border-2 border-blue-700\">\n                                      <div className=\"w-3 h-3 rounded-full bg-white\" />\n                                      <span className=\"text-sm font-bold text-white\">MAINT</span>\n                                    </div>\n                                  )}\n                                  {isLoadingStatus && (\n                                    <div className=\"flex items-center gap-2 bg-gray-600 px-4 py-2 rounded-md border-2 border-gray-700\">\n                                      <div className=\"w-3 h-3 rounded-full bg-white animate-pulse\" />\n                                      <span className=\"text-sm font-bold text-white\">LOAD</span>\n                                    </div>\n                                  )}\n                                </div>\n                              </TableCell>\n                            </TableRow>\n                          );\n                        })}\n                      </TableBody>\n                    </Table>\n                  </div>\n\n                  {/* Mobile Card View */}\n                  <div className=\"md:hidden divide-y\">\n                    {groupedByType[type].map((service) => {\n                      const isOperational = service.status === \"operational\";\n                      const isDown = service.status === \"down\";\n                      const isDegraded = service.status === \"degraded\";\n                      const isMaintenance = service.status === \"maintenance\";\n                      const isLoadingStatus = service.status === \"loading\";\n                      \n                      return (\n                        <div key={service.id} className=\"p-3 space-y-2\">\n                          <div className=\"flex items-center justify-between gap-2\">\n                            <div className=\"flex items-center gap-2 flex-1 min-w-0\">\n                              <button\n                                onClick={() => toggleFavorite(service.id)}\n                                className=\"text-muted-foreground hover:text-yellow-500 transition-colors flex-shrink-0\"\n                              >\n                                <Star\n                                  className={`w-4 h-4 ${\n                                    isFavorite(service.id) ? 'fill-yellow-500 text-yellow-500' : ''\n                                  }`}\n                                />\n                              </button>\n                              <h3 className=\"font-medium text-sm truncate\">{service.name}</h3>\n                            </div>\n                            <div className=\"flex-shrink-0\">\n                              {isOperational && (\n                                <div className=\"flex items-center gap-1 bg-green-600 px-2 py-1 rounded border border-green-700\">\n                                  <div className=\"w-1.5 h-1.5 rounded-full bg-white animate-pulse\" />\n                                  <span className=\"text-[10px] font-bold text-white\">UP</span>\n                                </div>\n                              )}\n                              {isDown && (\n                                <div className=\"flex items-center gap-1 bg-red-600 px-2 py-1 rounded border border-red-700\">\n                                  <div className=\"w-1.5 h-1.5 rounded-full bg-white\" />\n                                  <span className=\"text-[10px] font-bold text-white\">DOWN</span>\n                                </div>\n                              )}\n                              {isDegraded && (\n                                <div className=\"flex items-center gap-1 bg-amber-600 px-2 py-1 rounded border border-amber-700\">\n                                  <div className=\"w-1.5 h-1.5 rounded-full bg-white animate-pulse\" />\n                                  <span className=\"text-[10px] font-bold text-white\">WARN</span>\n                                </div>\n                              )}\n                              {isMaintenance && (\n                                <div className=\"flex items-center gap-1 bg-blue-600 px-2 py-1 rounded border border-blue-700\">\n                                  <div className=\"w-1.5 h-1.5 rounded-full bg-white\" />\n                                  <span className=\"text-[10px] font-bold text-white\">MAINT</span>\n                                </div>\n                              )}\n                              {isLoadingStatus && (\n                                <div className=\"flex items-center gap-1 bg-gray-600 px-2 py-1 rounded border border-gray-700\">\n                                  <div className=\"w-1.5 h-1.5 rounded-full bg-white animate-pulse\" />\n                                  <span className=\"text-[10px] font-bold text-white\">LOAD</span>\n                                </div>\n                              )}\n                            </div>\n                          </div>\n\n                          {service.address && (\n                            <div className=\"flex items-center justify-between gap-2\">\n                              <a\n                                href={service.address?.startsWith('http') ? service.address : `http://${service.address}`}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"text-xs text-primary hover:underline truncate flex-1\"\n                              >\n                                {service.address}\n                              </a>\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => openService(service.address, service.port)}\n                                className=\"h-7 px-2 text-xs flex-shrink-0\"\n                              >\n                                –û—Ç–∫—Ä—ã—Ç—å\n                              </Button>\n                            </div>\n                          )}\n                        </div>\n                      );\n                    })}\n                  </div>\n                </Card>\n              ));\n            })()\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":29663},"statuserver/server_py/metrics_api_client.py":{"content":"import httpx\nimport os\nfrom typing import List, Optional, Dict, Any\nfrom datetime import datetime\nfrom models import Service, InsertService, ServiceStatus\n\nclass MetricsAPIClient:\n    \"\"\"–ö–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–Ω–µ—à–Ω–∏–º API –º–µ—Ç—Ä–∏–∫\"\"\"\n    \n    def __init__(self, base_url: Optional[str] = None):\n        self.base_url = base_url or os.getenv('METRICS_API_URL', 'http://localhost:8000')\n        self.timeout = 10.0\n        self.is_available = False\n        \n    async def check_availability(self) -> bool:\n        \"\"\"–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API\"\"\"\n        try:\n            async with httpx.AsyncClient(timeout=self.timeout) as client:\n                response = await client.get(f\"{self.base_url}/metrics/available\")\n                self.is_available = response.status_code == 200\n                return self.is_available\n        except Exception as e:\n            print(f\"Metrics API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: {e}\")\n            self.is_available = False\n            return False\n    \n    async def get_all_servers(self) -> List[Dict[str, Any]]:\n        \"\"\"–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏–∑ API –º–µ—Ç—Ä–∏–∫\"\"\"\n        try:\n            async with httpx.AsyncClient(timeout=self.timeout) as client:\n                response = await client.get(f\"{self.base_url}/metrics/servers\")\n                \n                if response.status_code != 200:\n                    return []\n                    \n                return response.json()\n        except Exception as e:\n            print(f\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤: {e}\")\n            return []\n    \n    async def get_server_metrics(self, server_name: str) -> Optional[Dict[str, Any]]:\n        \"\"\"–ü–æ–ª—É—á–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞\"\"\"\n        try:\n            async with httpx.AsyncClient(timeout=self.timeout) as client:\n                response = await client.get(f\"{self.base_url}/metrics/servers/{server_name}\")\n                \n                if response.status_code != 200:\n                    return None\n                    \n                return response.json()\n        except Exception as e:\n            print(f\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫ —Å–µ—Ä–≤–µ—Ä–∞ {server_name}: {e}\")\n            return None\n    \n    async def get_server_cpu_usage(self, server_name: str) -> Optional[float]:\n        \"\"\"–ü–æ–ª—É—á–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU —Å–µ—Ä–≤–µ—Ä–∞\"\"\"\n        try:\n            async with httpx.AsyncClient(timeout=self.timeout) as client:\n                response = await client.get(f\"{self.base_url}/metrics/servers/{server_name}/cpu\")\n                \n                if response.status_code != 200:\n                    return None\n                    \n                data = response.json()\n                return data.get('usage', 0.0)\n        except Exception as e:\n            print(f\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ CPU –¥–ª—è {server_name}: {e}\")\n            return None\n    \n    async def get_server_memory_usage(self, server_name: str) -> Optional[float]:\n        \"\"\"–ü–æ–ª—É—á–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞\"\"\"\n        try:\n            async with httpx.AsyncClient(timeout=self.timeout) as client:\n                response = await client.get(f\"{self.base_url}/metrics/servers/{server_name}/memory\")\n                \n                if response.status_code != 200:\n                    return None\n                    \n                data = response.json()\n                return data.get('usage', 0.0)\n        except Exception as e:\n            print(f\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–∞–º—è—Ç–∏ –¥–ª—è {server_name}: {e}\")\n            return None\n    \n    def _convert_to_service_status(self, metric_value: Optional[float]) -> ServiceStatus:\n        \"\"\"–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞\"\"\"\n        if metric_value is None:\n            return \"down\"\n        \n        # up{} –º–µ—Ç—Ä–∏–∫–∞: 1 = —Ä–∞–±–æ—Ç–∞–µ—Ç, 0 = –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç\n        if metric_value == 1.0:\n            return \"operational\"\n        elif metric_value == 0.0:\n            return \"down\"\n        else:\n            return \"degraded\"\n    \n    async def convert_servers_to_services(self, servers: List[Dict[str, Any]]) -> List[Service]:\n        \"\"\"–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏–∑ API –≤ —Ñ–æ—Ä–º–∞—Ç Service\"\"\"\n        services = []\n        \n        for server in servers:\n            # –ü–æ–ª—É—á–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞\n            server_name = server.get('name', server.get('instance', 'unknown'))\n            metrics = await self.get_server_metrics(server_name)\n            \n            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ç—É—Å\n            status: ServiceStatus = \"loading\"\n            if metrics:\n                up_value = metrics.get('up', metrics.get('status'))\n                status = self._convert_to_service_status(up_value)\n            \n            # –ü–∞—Ä—Å–∏–º address –∏ port\n            instance = server.get('instance', '')\n            address = instance.split(':')[0] if ':' in instance else instance\n            port = None\n            if ':' in instance:\n                try:\n                    port = int(instance.split(':')[1])\n                except:\n                    pass\n            \n            service = Service(\n                id=server.get('id', f\"srv-{server_name}\"),\n                name=server_name,\n                description=server.get('description', f'–°–µ—Ä–≤–µ—Ä {server_name}'),\n                category=server.get('job', server.get('category', 'Server')),\n                region=server.get('region', server.get('environment', 'Production')),\n                status=status,\n                type=server.get('type', 'Backend'),\n                icon=server.get('icon'),\n                address=address or server.get('address'),\n                port=port or server.get('port'),\n                updated_at=datetime.now()\n            )\n            services.append(service)\n        \n        return services\n\n# –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∏–µ–Ω—Ç–∞\nmetrics_client = MetricsAPIClient()\n","size_bytes":6242},"statuserver/vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport path from \"path\";\n\nexport default defineConfig(async () => {\n  const isDev = process.env.NODE_ENV !== \"production\";\n  const plugins = [];\n\n  // ‚úÖ React-–ø–ª–∞–≥–∏–Ω –¥–æ–ª–∂–µ–Ω –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –≤—Å–µ–≥–¥–∞\n  const react = (await import(\"@vitejs/plugin-react\")).default;\n  plugins.push(react({ jsxRuntime: \"automatic\" }));\n\n  // üëá –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è Replit/Dev\n  if (isDev) {\n    const runtimeErrorOverlay = (await import(\"@replit/vite-plugin-runtime-error-modal\")).default;\n    plugins.push(runtimeErrorOverlay());\n\n    if (process.env.REPL_ID !== undefined) {\n      const { cartographer } = await import(\"@replit/vite-plugin-cartographer\");\n      const { devBanner } = await import(\"@replit/vite-plugin-dev-banner\");\n      plugins.push(cartographer(), devBanner());\n    }\n  }\n\n  return {\n    plugins,\n    resolve: {\n      alias: {\n        \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n        \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n        \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n      },\n    },\n    root: path.resolve(import.meta.dirname, \"client\"),\n    build: {\n      outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n      emptyOutDir: true,\n    },\n    server: {\n      host: \"0.0.0.0\",\n      port: 5173,\n      strictPort: false,\n      allowedHosts: true,\n      hmr: {\n        clientPort: 443,\n        protocol: \"wss\",\n      },\n      fs: {\n        strict: true,\n        deny: [\"**/.*\"],\n      },\n    },\n  };\n});\n","size_bytes":1574},"statuserver/server_py/storage.py":{"content":"import uuid\nimport json\nfrom datetime import datetime, timedelta\nfrom typing import Dict, List, Optional\nfrom pathlib import Path\n\nfrom models import (\n    Service, InsertService,\n    Incident, InsertIncident,\n    StatusHistory, InsertStatusHistory,\n    ServerMetrics, InsertServerMetrics,\n    ServiceStatus\n)\n\nclass MemStorage:\n    def __init__(self):\n        self.services: Dict[str, Service] = {}\n        self.incidents: Dict[str, Incident] = {}\n        self.status_history: Dict[str, StatusHistory] = {}\n        self.server_metrics: Dict[str, ServerMetrics] = {}\n        \n    async def seed_data(self):\n        # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–∫–ª—é—á–µ–Ω—ã - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ Metrics API\n        pass\n    \n    def _generate_deterministic_id(self, service: InsertService) -> str:\n        key = f\"{service.name}-{service.region}-{service.category}-{service.address or ''}-{service.port or ''}\"\n        hash_val = 0\n        for char in key:\n            hash_val = ((hash_val << 5) - hash_val) + ord(char)\n            hash_val = hash_val & 0xFFFFFFFF\n        \n        hash_str = format(abs(hash_val), '030x')\n        return f\"{hash_str[0:8]}-{hash_str[8:12]}-4{hash_str[12:15]}-a{hash_str[15:18]}-{hash_str[18:30]}\"\n    \n    async def get_services(self) -> List[Service]:\n        return list(self.services.values())\n    \n    async def get_service(self, service_id: str) -> Optional[Service]:\n        return self.services.get(service_id)\n    \n    async def create_service(self, insert_service: InsertService) -> Service:\n        service_id = self._generate_deterministic_id(insert_service)\n        service = Service(\n            id=service_id,\n            name=insert_service.name,\n            description=insert_service.description,\n            category=insert_service.category,\n            region=insert_service.region,\n            status=insert_service.status or \"operational\",\n            type=insert_service.type,\n            icon=insert_service.icon,\n            address=insert_service.address,\n            port=insert_service.port,\n            updated_at=datetime.now()\n        )\n        self.services[service_id] = service\n        \n        await self.create_status_history(InsertStatusHistory(\n            service_id=service_id,\n            status=service.status,\n            timestamp=datetime.now()\n        ))\n        \n        return service\n    \n    async def update_service_status(self, service_id: str, status: ServiceStatus) -> Optional[Service]:\n        service = self.services.get(service_id)\n        if not service:\n            return None\n        \n        updated_service = Service(\n            **service.model_dump(),\n            status=status,\n            updated_at=datetime.now()\n        )\n        self.services[service_id] = updated_service\n        \n        await self.create_status_history(InsertStatusHistory(\n            service_id=service_id,\n            status=status,\n            timestamp=datetime.now()\n        ))\n        \n        return updated_service\n    \n    async def get_incidents(self) -> List[Incident]:\n        return list(self.incidents.values())\n    \n    async def get_incident(self, incident_id: str) -> Optional[Incident]:\n        return self.incidents.get(incident_id)\n    \n    async def create_incident(self, insert_incident: InsertIncident) -> Incident:\n        incident_id = str(uuid.uuid4())\n        incident = Incident(\n            id=incident_id,\n            service_id=insert_incident.service_id,\n            title=insert_incident.title,\n            description=insert_incident.description,\n            status=insert_incident.status,\n            severity=insert_incident.severity,\n            started_at=insert_incident.started_at or datetime.now(),\n            resolved_at=insert_incident.resolved_at,\n            created_at=datetime.now()\n        )\n        self.incidents[incident_id] = incident\n        return incident\n    \n    async def get_status_history(self, service_id: str) -> List[StatusHistory]:\n        history = [h for h in self.status_history.values() if h.service_id == service_id]\n        return sorted(history, key=lambda h: h.timestamp, reverse=True)\n    \n    async def create_status_history(self, insert_history: InsertStatusHistory) -> StatusHistory:\n        history_id = str(uuid.uuid4())\n        history = StatusHistory(\n            id=history_id,\n            service_id=insert_history.service_id,\n            status=insert_history.status,\n            timestamp=insert_history.timestamp or datetime.now()\n        )\n        self.status_history[history_id] = history\n        return history\n    \n    async def get_server_metrics(self, service_id: Optional[str] = None) -> List[ServerMetrics]:\n        metrics = list(self.server_metrics.values())\n        if service_id:\n            metrics = [m for m in metrics if m.service_id == service_id]\n        return sorted(metrics, key=lambda m: m.timestamp, reverse=True)\n    \n    async def create_server_metrics(self, insert_metrics: InsertServerMetrics) -> ServerMetrics:\n        metrics_id = str(uuid.uuid4())\n        metrics = ServerMetrics(\n            id=metrics_id,\n            service_id=insert_metrics.service_id,\n            cpu_usage=insert_metrics.cpu_usage,\n            ram_usage=insert_metrics.ram_usage,\n            disk_usage=insert_metrics.disk_usage,\n            timestamp=datetime.now()\n        )\n        self.server_metrics[metrics_id] = metrics\n        return metrics\n\nstorage = MemStorage()\n","size_bytes":5487},"statuserver/client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"statuserver/client/src/hooks/use-favorites.ts":{"content":"import { useState, useEffect } from \"react\";\n\nexport function useFavorites() {\n  const [favorites, setFavorites] = useState<string[]>([]);\n\n  useEffect(() => {\n    const stored = localStorage.getItem(\"service-favorites\");\n    if (stored) {\n      try {\n        setFavorites(JSON.parse(stored));\n      } catch {\n        setFavorites([]);\n      }\n    }\n  }, []);\n\n  const toggleFavorite = (serviceId: string) => {\n    setFavorites(prev => {\n      const newFavorites = prev.includes(serviceId)\n        ? prev.filter(id => id !== serviceId)\n        : [...prev, serviceId];\n      \n      localStorage.setItem(\"service-favorites\", JSON.stringify(newFavorites));\n      return newFavorites;\n    });\n  };\n\n  const isFavorite = (serviceId: string) => favorites.includes(serviceId);\n\n  return { favorites, toggleFavorite, isFavorite };\n}\n","size_bytes":825},"statuserver/client/src/pages/ServiceDetail.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { useRoute, useLocation } from \"wouter\";\nimport { Service, Incident } from \"@shared/schema\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { StatusBadge } from \"@/components/StatusBadge\";\nimport { MetricCard } from \"@/components/MetricCard\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { ArrowLeft, Server, ExternalLink } from \"lucide-react\";\nimport { formatDistanceToNow, subDays, eachDayOfInterval, format } from \"date-fns\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from \"recharts\";\nimport { getServiceUrl, openServiceUrl } from \"@/lib/serviceUtils\";\n\nexport default function ServiceDetail() {\n  const [, params] = useRoute(\"/service/:id\");\n  const [, setLocation] = useLocation();\n  const serviceId = params?.id;\n\n  const { data: service, isLoading: serviceLoading } = useQuery<Service>({\n    queryKey: [`/api/services/${serviceId}`],\n    enabled: !!serviceId,\n  });\n\n  const { data: incidents = [] } = useQuery<Incident[]>({\n    queryKey: [\"/api/incidents\"],\n  });\n\n  if (serviceLoading) {\n    return (\n      <div className=\"space-y-8\">\n        <div className=\"h-8 w-64 bg-card animate-pulse rounded\" />\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {[...Array(4)].map((_, i) => (\n            <div key={i} className=\"h-32 bg-card animate-pulse rounded-lg\" />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (!service) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-muted-foreground\">Service not found</p>\n        <Button onClick={() => setLocation(\"/\")} className=\"mt-4\">\n          Go to Dashboard\n        </Button>\n      </div>\n    );\n  }\n\n  const serviceIncidents = incidents\n    .filter((inc) => inc.serviceId === serviceId)\n    .sort((a, b) => new Date(b.startedAt).getTime() - new Date(a.startedAt).getTime());\n\n  const last30Days = eachDayOfInterval({\n    start: subDays(new Date(), 29),\n    end: new Date(),\n  });\n\n  const uptimeData = last30Days.map((date) => {\n    const dayIncidents = serviceIncidents.filter((inc) => {\n      const incDate = new Date(inc.startedAt);\n      return format(incDate, \"yyyy-MM-dd\") === format(date, \"yyyy-MM-dd\");\n    });\n\n    let uptime = 100;\n    if (dayIncidents.some((i) => i.severity === \"critical\")) uptime = 50;\n    else if (dayIncidents.some((i) => i.severity === \"major\")) uptime = 85;\n    else if (dayIncidents.some((i) => i.severity === \"minor\")) uptime = 95;\n\n    return {\n      date: format(date, \"MMM d\"),\n      uptime,\n    };\n  });\n\n  const totalIncidents = serviceIncidents.length;\n  const activeIncidents = serviceIncidents.filter((i) => i.status !== \"resolved\").length;\n  const avgUptime = (uptimeData.reduce((sum, d) => sum + d.uptime, 0) / uptimeData.length).toFixed(2);\n\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <Button variant=\"ghost\" onClick={() => setLocation(\"/\")} className=\"mb-4\" data-testid=\"button-back\">\n          <ArrowLeft className=\"w-4 h-4 mr-2\" />\n          Back to Dashboard\n        </Button>\n        \n        <div className=\"flex items-start justify-between gap-4 flex-wrap\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"p-3 rounded-lg bg-primary/10\">\n              <Server className=\"w-8 h-8 text-primary\" />\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-semibold mb-1\" data-testid=\"text-service-name\">\n                {service.name}\n              </h1>\n              <p className=\"text-muted-foreground\">{service.description}</p>\n              {service.address && (\n                <div className=\"flex items-center gap-2 mt-2\">\n                  <a \n                    href={getServiceUrl(service) || '#'} \n                    target=\"_blank\" \n                    rel=\"noopener noreferrer\"\n                    className=\"text-sm text-primary hover:underline font-mono\"\n                  >\n                    {service.address}\n                  </a>\n                  {service.port && (\n                    <span className=\"text-sm text-muted-foreground font-mono\">\n                      :{service.port}\n                    </span>\n                  )}\n                  {getServiceUrl(service) && (\n                    <Button \n                      size=\"sm\" \n                      variant=\"outline\"\n                      onClick={() => openServiceUrl(service)}\n                      className=\"ml-2\"\n                    >\n                      <ExternalLink className=\"w-3 h-3 mr-1\" />\n                      –û—Ç–∫—Ä—ã—Ç—å\n                    </Button>\n                  )}\n                </div>\n              )}\n              <div className=\"flex items-center gap-3 mt-2 text-sm text-muted-foreground\">\n                <span className=\"font-mono\">{service.region}</span>\n                <span>‚Ä¢</span>\n                <span>{service.category}</span>\n              </div>\n            </div>\n          </div>\n          <div className=\"flex flex-col items-end gap-2\">\n            <StatusBadge status={service.status as any} size=\"default\" />\n            <span className=\"text-sm text-muted-foreground\">\n              Updated {formatDistanceToNow(new Date(service.updatedAt), { addSuffix: true })}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <MetricCard\n          title=\"Current Status\"\n          value={service.status.charAt(0).toUpperCase() + service.status.slice(1)}\n          subtitle=\"Real-time status\"\n        />\n        <MetricCard\n          title=\"30-Day Uptime\"\n          value={`${avgUptime}%`}\n          subtitle=\"Average uptime\"\n          trend=\"up\"\n        />\n        <MetricCard\n          title=\"Total Incidents\"\n          value={totalIncidents}\n          subtitle=\"All time\"\n        />\n        <MetricCard\n          title=\"Active Incidents\"\n          value={activeIncidents}\n          subtitle=\"Currently ongoing\"\n          trend={activeIncidents > 0 ? \"down\" : \"neutral\"}\n        />\n      </div>\n\n      <Tabs defaultValue=\"metrics\" className=\"w-full\">\n        <TabsList>\n          <TabsTrigger value=\"metrics\" data-testid=\"tab-metrics\">Metrics</TabsTrigger>\n          <TabsTrigger value=\"history\" data-testid=\"tab-history\">Incident History</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"metrics\" className=\"mt-6\">\n          <Card className=\"p-6\">\n            <h3 className=\"text-lg font-medium mb-6\">30-Day Uptime Trend</h3>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <LineChart data={uptimeData}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\n                <XAxis \n                  dataKey=\"date\" \n                  tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n                  stroke=\"hsl(var(--border))\"\n                />\n                <YAxis \n                  domain={[0, 100]}\n                  tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n                  stroke=\"hsl(var(--border))\"\n                />\n                <Tooltip \n                  contentStyle={{ \n                    backgroundColor: \"hsl(var(--popover))\", \n                    border: \"1px solid hsl(var(--border))\",\n                    borderRadius: \"6px\"\n                  }}\n                />\n                <Line \n                  type=\"monotone\" \n                  dataKey=\"uptime\" \n                  stroke=\"hsl(142 76% 45%)\" \n                  strokeWidth={2}\n                  dot={{ fill: \"hsl(142 76% 45%)\", r: 4 }}\n                />\n              </LineChart>\n            </ResponsiveContainer>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"history\" className=\"mt-6\">\n          {serviceIncidents.length === 0 ? (\n            <Card className=\"p-12 text-center\">\n              <p className=\"text-muted-foreground\">No incidents recorded for this service</p>\n            </Card>\n          ) : (\n            <div className=\"space-y-4\">\n              {serviceIncidents.map((incident) => (\n                <Card key={incident.id} className=\"p-6\" data-testid={`incident-${incident.id}`}>\n                  <div className=\"flex items-start justify-between gap-4 flex-wrap\">\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"font-medium text-base mb-2\">{incident.title}</h3>\n                      <p className=\"text-sm text-muted-foreground mb-3\">{incident.description}</p>\n                      <div className=\"flex items-center gap-2 text-xs text-muted-foreground font-mono\">\n                        <span>Started {formatDistanceToNow(new Date(incident.startedAt), { addSuffix: true })}</span>\n                        {incident.resolvedAt && (\n                          <>\n                            <span>‚Ä¢</span>\n                            <span className=\"text-green-600 dark:text-green-400\">\n                              Resolved {formatDistanceToNow(new Date(incident.resolvedAt), { addSuffix: true })}\n                            </span>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex flex-col gap-2\">\n                      <Badge variant=\"outline\" className={\n                        incident.severity === \"critical\" \n                          ? \"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20\"\n                          : incident.severity === \"major\"\n                          ? \"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20\"\n                          : \"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20\"\n                      }>\n                        {incident.severity}\n                      </Badge>\n                      <Badge variant=\"outline\">\n                        {incident.status}\n                      </Badge>\n                    </div>\n                  </div>\n                </Card>\n              ))}\n            </div>\n          )}\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n","size_bytes":10300},"statuserver/client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"statuserver/drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"statuserver/client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"statuserver/client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"statuserver/client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"statuserver/client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"statuserver/client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"statuserver/client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"statuserver/client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"statuserver/client/src/hooks/use-history.ts":{"content":"import { useState, useEffect } from \"react\";\n\ninterface HistoryItem {\n  serviceId: string;\n  serviceName: string;\n  timestamp: number;\n}\n\nconst MAX_HISTORY_ITEMS = 50;\n\nexport function useHistory() {\n  const [history, setHistory] = useState<HistoryItem[]>([]);\n\n  useEffect(() => {\n    const stored = localStorage.getItem(\"service-history\");\n    if (stored) {\n      try {\n        setHistory(JSON.parse(stored));\n      } catch {\n        setHistory([]);\n      }\n    }\n  }, []);\n\n  const addToHistory = (serviceId: string, serviceName: string) => {\n    setHistory(prev => {\n      const filtered = prev.filter(item => item.serviceId !== serviceId);\n      const newHistory = [\n        { serviceId, serviceName, timestamp: Date.now() },\n        ...filtered\n      ].slice(0, MAX_HISTORY_ITEMS);\n      \n      localStorage.setItem(\"service-history\", JSON.stringify(newHistory));\n      return newHistory;\n    });\n  };\n\n  const clearHistory = () => {\n    setHistory([]);\n    localStorage.removeItem(\"service-history\");\n  };\n\n  return { history, addToHistory, clearHistory };\n}\n","size_bytes":1066},"statuserver/client/src/main.tsx":{"content":"import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":184},"statuserver/client/src/components/StatusBadge.tsx":{"content":"import { Badge } from \"@/components/ui/badge\";\nimport { ServiceStatus } from \"@shared/schema\";\nimport { CheckCircle2, AlertTriangle, XCircle, Wrench, Loader2 } from \"lucide-react\";\n\ninterface StatusBadgeProps {\n  status: ServiceStatus;\n  showIcon?: boolean;\n  size?: \"sm\" | \"default\";\n}\n\nexport function StatusBadge({ status, showIcon = true, size = \"default\" }: StatusBadgeProps) {\n  const config = {\n    operational: {\n      label: \"Operational\",\n      icon: CheckCircle2,\n      className: \"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20\",\n    },\n    degraded: {\n      label: \"Degraded\",\n      icon: AlertTriangle,\n      className: \"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20\",\n    },\n    down: {\n      label: \"Down\",\n      icon: XCircle,\n      className: \"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20\",\n    },\n    maintenance: {\n      label: \"Maintenance\",\n      icon: Wrench,\n      className: \"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20\",\n    },\n    loading: {\n      label: \"Load\",\n      icon: Loader2,\n      className: \"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/20\",\n    },\n  };\n\n  const { label, icon: Icon, className } = config[status];\n\n  return (\n    <Badge variant=\"outline\" className={`${className} ${size === \"sm\" ? \"text-xs\" : \"\"}`}>\n      {showIcon && <Icon className=\"w-3 h-3 mr-1.5\" />}\n      {label}\n    </Badge>\n  );\n}\n","size_bytes":1453},"statuserver/client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"statuserver/client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"statuserver/client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 100%;\n\n  --foreground: 222 15% 15%;\n\n  --border: 222 10% 85%;\n\n  --card: 0 0% 98%;\n\n  --card-foreground: 222 15% 15%;\n\n  --card-border: 222 10% 90%;\n\n  --sidebar: 222 8% 96%;\n\n  --sidebar-foreground: 222 15% 15%;\n\n  --sidebar-border: 222 10% 88%;\n\n  --sidebar-primary: 217 91% 60%;\n\n  --sidebar-primary-foreground: 0 0% 98%;\n\n  --sidebar-accent: 222 12% 92%;\n\n  --sidebar-accent-foreground: 222 15% 20%;\n\n  --sidebar-ring: 217 91% 60%;\n\n  --popover: 0 0% 95%;\n\n  --popover-foreground: 222 15% 15%;\n\n  --popover-border: 222 10% 82%;\n\n  --primary: 217 91% 60%;\n\n  --primary-foreground: 0 0% 98%;\n\n  --secondary: 222 12% 90%;\n\n  --secondary-foreground: 222 15% 20%;\n\n  --muted: 222 10% 93%;\n\n  --muted-foreground: 222 10% 40%;\n\n  --accent: 217 20% 94%;\n\n  --accent-foreground: 217 91% 35%;\n\n  --destructive: 0 84% 60%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  --input: 222 10% 75%;\n  --ring: 217 91% 60%;\n  --chart-1: 217 91% 60%;\n  --chart-2: 142 76% 45%;\n  --chart-3: 280 60% 60%;\n  --chart-4: 38 92% 50%;\n  --chart-5: 0 84% 60%;\n\n  --font-sans: Inter, system-ui, -apple-system, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: \"JetBrains Mono\", \"Menlo\", \"Monaco\", monospace;\n  --radius: .5rem; /* 8px */\n  --shadow-2xs: 0px 1px 2px 0px hsl(222 15% 10% / 0.05);\n  --shadow-xs: 0px 1px 3px 0px hsl(222 15% 10% / 0.08);\n  --shadow-sm: 0px 2px 4px -1px hsl(222 15% 10% / 0.06), 0px 1px 2px -1px hsl(222 15% 10% / 0.10);\n  --shadow: 0px 4px 6px -1px hsl(222 15% 10% / 0.08), 0px 2px 4px -2px hsl(222 15% 10% / 0.10);\n  --shadow-md: 0px 6px 12px -2px hsl(222 15% 10% / 0.10), 0px 3px 6px -3px hsl(222 15% 10% / 0.12);\n  --shadow-lg: 0px 10px 20px -4px hsl(222 15% 10% / 0.12), 0px 5px 10px -5px hsl(222 15% 10% / 0.14);\n  --shadow-xl: 0px 20px 30px -6px hsl(222 15% 10% / 0.14), 0px 10px 15px -7px hsl(222 15% 10% / 0.16);\n  --shadow-2xl: 0px 30px 50px -10px hsl(222 15% 10% / 0.20);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 222 15% 10%;\n\n  --foreground: 0 0% 95%;\n\n  --border: 222 10% 20%;\n\n  --card: 222 12% 14%;\n\n  --card-foreground: 0 0% 95%;\n\n  --card-border: 222 10% 22%;\n\n  --sidebar: 222 10% 16%;\n\n  --sidebar-foreground: 0 0% 95%;\n\n  --sidebar-border: 222 10% 24%;\n\n  --sidebar-primary: 217 91% 60%;\n\n  --sidebar-primary-foreground: 0 0% 98%;\n\n  --sidebar-accent: 222 10% 18%;\n\n  --sidebar-accent-foreground: 0 0% 90%;\n\n  --sidebar-ring: 217 91% 60%;\n\n  --popover: 222 10% 18%;\n\n  --popover-foreground: 0 0% 95%;\n\n  --popover-border: 222 10% 26%;\n\n  --primary: 217 91% 60%;\n\n  --primary-foreground: 0 0% 98%;\n\n  --secondary: 222 10% 22%;\n\n  --secondary-foreground: 0 0% 90%;\n\n  --muted: 222 8% 20%;\n\n  --muted-foreground: 0 0% 70%;\n\n  --accent: 217 15% 24%;\n\n  --accent-foreground: 217 91% 75%;\n\n  --destructive: 0 84% 60%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  --input: 222 10% 32%;\n  --ring: 217 91% 60%;\n  --chart-1: 217 91% 65%;\n  --chart-2: 142 76% 50%;\n  --chart-3: 280 60% 65%;\n  --chart-4: 38 92% 55%;\n  --chart-5: 0 84% 65%;\n\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.30);\n  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.35);\n  --shadow-sm: 0px 2px 4px -1px hsl(0 0% 0% / 0.40), 0px 1px 2px -1px hsl(0 0% 0% / 0.45);\n  --shadow: 0px 4px 6px -1px hsl(0 0% 0% / 0.45), 0px 2px 4px -2px hsl(0 0% 0% / 0.50);\n  --shadow-md: 0px 6px 12px -2px hsl(0 0% 0% / 0.50), 0px 3px 6px -3px hsl(0 0% 0% / 0.55);\n  --shadow-lg: 0px 10px 20px -4px hsl(0 0% 0% / 0.55), 0px 5px 10px -5px hsl(0 0% 0% / 0.60);\n  --shadow-xl: 0px 20px 30px -6px hsl(0 0% 0% / 0.60), 0px 10px 15px -7px hsl(0 0% 0% / 0.65);\n  --shadow-2xl: 0px 30px 50px -10px hsl(0 0% 0% / 0.70);\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    border-radius: inherit;\n    z-index: -1;\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    border-radius: inherit;\n    z-index: 999;\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":9573},"statuserver/server_py/auth.py":{"content":"from fastapi import HTTPException, Depends, status\nfrom fastapi.security import HTTPBasic, HTTPBasicCredentials\nimport secrets\nfrom config import config\n\nsecurity = HTTPBasic()\n\ndef verify_admin_credentials(credentials: HTTPBasicCredentials = Depends(security)) -> str:\n    \"\"\"–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞\"\"\"\n    is_correct_username = secrets.compare_digest(credentials.username, config.ADMIN_USERNAME)\n    is_correct_password = secrets.compare_digest(credentials.password, config.ADMIN_PASSWORD)\n    \n    if not (is_correct_username and is_correct_password):\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å\",\n            headers={\"WWW-Authenticate\": \"Basic\"},\n        )\n    \n    return credentials.username\n\n# Middleware –¥–ª—è –∑–∞—â–∏—Ç—ã –∞–¥–º–∏–Ω—Å–∫–∏—Ö endpoints\ndef require_admin(credentials: HTTPBasicCredentials = Depends(security)) -> str:\n    \"\"\"–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∑–∞—â–∏—Ç—ã –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Ä–æ—É—Ç–æ–≤\"\"\"\n    return verify_admin_credentials(credentials)\n","size_bytes":1130},"statuserver/client/src/pages/Admin.tsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { toast } from \"sonner\";\nimport { AdminAuth } from \"@/components/AdminAuth\";\n\ninterface Service {\n  id: string;\n  name: string;\n  description: string;\n  address: string;\n  status: \"online\" | \"offline\";\n}\n\ninterface Incident {\n  id: string;\n  title: string;\n  description: string;\n  status: \"open\" | \"resolved\";\n  date: string;\n}\n\nexport default function Admin() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [credentials, setCredentials] = useState<{ username: string; password: string } | null>(null);\n  const [services, setServices] = useState<Service[]>([]);\n  const [incidents, setIncidents] = useState<Incident[]>([]);\n  const { control, handleSubmit, reset } = useForm<Service>({\n    defaultValues: {\n      name: \"\",\n      description: \"\",\n      address: \"\",\n      status: \"online\",\n    },\n  });\n\n  const {\n    control: incidentControl,\n    handleSubmit: handleIncidentSubmit,\n    reset: resetIncident,\n  } = useForm<Incident>({\n    defaultValues: {\n      title: \"\",\n      description: \"\",\n      status: \"open\",\n      date: \"\",\n    },\n  });\n\n  useEffect(() => {\n    // –ó–∞–≥–ª—É—à–∫–∞: –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∑–¥–µ—Å—å –±—É–¥—É—Ç fetch-–∑–∞–ø—Ä–æ—Å—ã\n    setServices([]);\n    setIncidents([]);\n  }, []);\n\n  const onSubmit = (data: Service) => {\n    const newService = { ...data, id: Date.now().toString() };\n    setServices((prev) => [...prev, newService]);\n    toast.success(\"Service added successfully!\");\n    reset();\n  };\n\n  const onIncidentSubmit = (data: Incident) => {\n    const newIncident = {\n      ...data,\n      id: Date.now().toString(),\n      date: new Date().toLocaleString(),\n    };\n    setIncidents((prev) => [...prev, newIncident]);\n    toast.success(\"Incident reported!\");\n    resetIncident();\n  };\n\n  const handleAuth = async (username: string, password: string) => {\n    try {\n      const response = await fetch(\"/api/auth/verify\", {\n        headers: {\n          Authorization: `Basic ${btoa(`${username}:${password}`)}`,\n        },\n      });\n      \n      if (response.status === 401) {\n        toast.error(\"–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å\");\n        return;\n      }\n      \n      if (!response.ok) {\n        toast.error(\"–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏\");\n        return;\n      }\n      \n      setCredentials({ username, password });\n      setIsAuthenticated(true);\n      toast.success(\"–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É!\");\n    } catch (error) {\n      toast.error(\"–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É\");\n    }\n  };\n\n  if (!isAuthenticated) {\n    return <AdminAuth onAuth={handleAuth} />;\n  }\n\n  return (\n    <div className=\"p-6 grid gap-6 md:grid-cols-2\">\n      {/* Add Service */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Add Service</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n            {/* Service name */}\n            <div>\n              <Label>Service name</Label>\n              <Controller\n                name=\"name\"\n                control={control}\n                render={({ field }) => (\n                  <Input\n                    placeholder=\"Service name...\"\n                    {...field}\n                    value={field.value ?? \"\"}\n                    data-testid=\"input-name\"\n                  />\n                )}\n              />\n            </div>\n\n            {/* Description */}\n            <div>\n              <Label>Description</Label>\n              <Controller\n                name=\"description\"\n                control={control}\n                render={({ field }) => (\n                  <Textarea\n                    placeholder=\"Service description...\"\n                    {...field}\n                    value={field.value ?? \"\"}\n                    data-testid=\"input-description\"\n                  />\n                )}\n              />\n            </div>\n\n            {/* Address */}\n            <div>\n              <Label>Address</Label>\n              <Controller\n                name=\"address\"\n                control={control}\n                render={({ field }) => (\n                  <Input\n                    placeholder=\"192.168.1.1 or example.com\"\n                    {...field}\n                    value={field.value ?? \"\"}\n                    data-testid=\"input-address\"\n                  />\n                )}\n              />\n            </div>\n\n            {/* Status */}\n            <div>\n              <Label>Status</Label>\n              <Controller\n                name=\"status\"\n                control={control}\n                render={({ field }) => (\n                  <select {...field} value={field.value ?? \"online\"} className=\"border rounded p-2 w-full\">\n                    <option value=\"online\">Online</option>\n                    <option value=\"offline\">Offline</option>\n                  </select>\n                )}\n              />\n            </div>\n\n            <Button type=\"submit\" className=\"w-full\">\n              Add Service\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n\n      {/* Report Incident */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Report Incident</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleIncidentSubmit(onIncidentSubmit)} className=\"space-y-4\">\n            {/* Incident title */}\n            <div>\n              <Label>Incident title</Label>\n              <Controller\n                name=\"title\"\n                control={incidentControl}\n                render={({ field }) => (\n                  <Input\n                    placeholder=\"Incident title...\"\n                    {...field}\n                    value={field.value ?? \"\"}\n                    data-testid=\"input-incident-title\"\n                  />\n                )}\n              />\n            </div>\n\n            {/* Incident description */}\n            <div>\n              <Label>Description</Label>\n              <Controller\n                name=\"description\"\n                control={incidentControl}\n                render={({ field }) => (\n                  <Textarea\n                    placeholder=\"Detailed description of the incident and its impact...\"\n                    {...field}\n                    value={field.value ?? \"\"}\n                    className=\"min-h-32\"\n                    data-testid=\"input-incident-description\"\n                  />\n                )}\n              />\n            </div>\n\n            {/* Status */}\n            <div>\n              <Label>Status</Label>\n              <Controller\n                name=\"status\"\n                control={incidentControl}\n                render={({ field }) => (\n                  <select {...field} value={field.value ?? \"open\"} className=\"border rounded p-2 w-full\">\n                    <option value=\"open\">Open</option>\n                    <option value=\"resolved\">Resolved</option>\n                  </select>\n                )}\n              />\n            </div>\n\n            <Button type=\"submit\" className=\"w-full\">\n              Submit Incident\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":7588},"statuserver/postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"main.py":{"content":"def main():\n    print(\"Hello from repl-nix-workspace!\")\n\n\nif __name__ == \"__main__\":\n    main()\n","size_bytes":96},"pyproject.toml":{"content":"[project]\nname = \"repl-nix-workspace\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nrequires-python = \">=3.11\"\ndependencies = [\n    \"fastapi>=0.121.1\",\n    \"httpx>=0.28.1\",\n    \"pydantic>=2.12.4\",\n    \"python-multipart>=0.0.20\",\n    \"uvicorn>=0.38.0\",\n]\n","size_bytes":268}},"version":2}